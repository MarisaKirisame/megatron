auto var_modified_x_1001(const auto &x_1003) {
  return [&](const auto &x_1004) {
    OptionMatch(
        x_1003.next, [&](const auto &x_1006) { return Nil(); },
        [&](const auto &x_1005) { return Cons(x_1005, Nil()); });
    OptionMatch(
        x_1003.next, [&](const auto &x_1009) { return Nil(); },
        [&](const auto &x_1008) { return Cons(x_1008, Nil()); });
    MakeUnit();
    MakeUnit();
    return MakeUnit();
  };
}
auto eval_expr_x_998(const auto &x_1011) {
  return [&](const auto &x_1012) {
    if (BoolOfValue((IsSome(x_1011.prev)) ? (not([&]() {
          ReadMetric(x_1012);
          return [&](const auto &x_1015) {
            return x_1015;
          }(HashtblForceFind([&](const auto &x_1013) { return x_1013; }(UnSome(x_1011.prev)).var, "line_break"));
        }()))
                                          : (VBool(false)))) {
      return max(
          [&]() {
            ReadMetric(x_1012);
            return [&](const auto &x_1023) {
              return x_1023;
            }(HashtblForceFind([&](const auto &x_1021) { return x_1021; }(x_1011).var, "height_external"));
          }(),
          [&]() {
            ReadMetric(x_1012);
            return [&](const auto &x_1027) {
              return x_1027;
            }(HashtblForceFind([&](const auto &x_1025) { return x_1025; }(UnSome(x_1011.prev)).var, "line_height"));
          }());
    } else {
      ReadMetric(x_1012);
      return [&](const auto &x_1019) {
        return x_1019;
      }(HashtblForceFind([&](const auto &x_1017) { return x_1017; }(x_1011).var, "height_external"));
    };
  } auto var_modified_x_996(const auto &x_1029) {
    return [&](const auto &x_1030) { return MakeUnit(); };
  }
  auto eval_expr_x_993(const auto &x_1033) {
    return [&](const auto &x_1034) {
      if (BoolOfValue(eq(
              [&]() {
                ReadMetric(x_1034);
                return [&](const auto &x_1037) {
                  return x_1037;
                }(HashtblForceFind([&](const auto &x_1035) { return x_1035; }(x_1033).var, "position"));
              }(),
              VString("absolute")))) {
        return VFloat(0.);
      } else {
        ReadMetric(x_1034);
        return [&](const auto &x_1041) {
          return x_1041;
        }(HashtblForceFind([&](const auto &x_1039) { return x_1039; }(x_1033).var, "height_internal"));
      };
    } auto var_modified_x_991(const auto &x_1043) {
      return [&](const auto &x_1044) { return MakeUnit(); };
    }
    auto eval_expr_x_988(const auto &x_1047) {
      return [&](const auto &x_1048) {if (BoolOfValue([&](){ReadMetric(x_1048);return [&](const auto&x_1051){return x_1051;}(HashtblForceFind([&](const auto&x_1049){return x_1049;}(x_1047).var,"intrinsic_height_is_height"));}())){ReadMetric(x_1048);return [&](const auto&x_1099){return x_1099;}(HashtblForceFind([&](const auto&x_1097){return x_1097;}(x_1047).var,"intrinsic_height_internal"));}else{if (BoolOfValue((IsSome(x_1047.parent))?([&](){ReadMetric(x_1048);return [&](const auto&x_1055){return x_1055;}(HashtblForceFind([&](const auto&x_1053){return x_1053;}(UnSome(x_1047.parent)).var,"is_flex_column"));}()):(VBool(false)))){return plus([&](){ReadMetric(x_1048);return [&](const auto&x_1087){return x_1087;}(HashtblForceFind([&](const auto&x_1085){return x_1085;}(x_1047).var,"intrinsic_height_internal"));}(),mult([&](){ReadMetric(x_1048);return [&](const auto&x_1091){return x_1091;}(HashtblForceFind([&](const auto&x_1089){return x_1089;}(x_1047).var,"flex_amount"));}(),[&](){ReadMetric(x_1048);return [&](const auto&x_1095){return x_1095;}(HashtblForceFind([&](const auto&x_1093){return x_1093;}(UnSome(x_1047.parent)).var,"flex_unit"));}()));}else{if (BoolOfValue(has_suffix([&](){ReadMetric(x_1048);return [&](const auto&x_1059){return x_1059;}(HashtblForceFind([&](const auto&x_1057){return x_1057;}(x_1047).var,"height_expr"));}(),VString("%")))){return mult([&](){ReadMetric(x_1048);return [&](const auto&x_1079){return x_1079;}(HashtblForceFind([&](const auto&x_1077){return x_1077;}(x_1047).var,"box_height"));}(),divide(string_to_float(strip_suffix([&](){ReadMetric(x_1048);return [&](const auto&x_1083){return x_1083;}(HashtblForceFind([&](const auto&x_1081){return x_1081;}(x_1047).var,"height_expr"));}(),VString("%"))),VFloat(100.)));}else{if (BoolOfValue(eq([&](){ReadMetric(x_1048);return [&](const auto&x_1063){return x_1063;}(HashtblForceFind([&](const auto&x_1061){return x_1061;}(x_1047).var,"height_expr"));}(),VString("fit-content")))){return max([&](){ReadMetric(x_1048);return [&](const auto&x_1071){return x_1071;}(HashtblForceFind([&](const auto&x_1069){return x_1069;}(x_1047).var,"box_height"));}(),[&](){ReadMetric(x_1048);return [&](const auto&x_1075){return x_1075;}(HashtblForceFind([&](const auto&x_1073){return x_1073;}(x_1047).var,"intrinsic_height_internal"));}());}else{return Panic();};}auto var_modified_x_986(const auto&x_1101){return [&](const auto&x_1102){OptionMatch(x_1101.next,[&](const auto&x_1104){return Nil();},[&](const auto&x_1103){return Cons(x_1103,Nil());});OptionMatch(x_1101.next,[&](const auto&x_1107){return Nil();},[&](const auto&x_1106){return Cons(x_1106,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_983(const auto&x_1110){return [&](const auto&x_1111){if (IsSome(x_1110.prev)){if (BoolOfValue((BoolOfValue([&](){ReadMetric(x_1111);return [&](const auto&x_1118){return x_1118;}(HashtblForceFind([&](const auto&x_1116){return x_1116;}(x_1110).var,"line_break"));}()))?(VBool(true)):([&](){ReadMetric(x_1111);return [&](const auto&x_1122){return x_1122;}(HashtblForceFind([&](const auto&x_1120){return x_1120;}(UnSome(x_1110.prev)).var,"line_break"));}()))){return plus([&](){ReadMetric(x_1111);return [&](const auto&x_1130){return x_1130;}(HashtblForceFind([&](const auto&x_1128){return x_1128;}(UnSome(x_1110.prev)).var,"y"));}(),[&](){ReadMetric(x_1111);return [&](const auto&x_1134){return x_1134;}(HashtblForceFind([&](const auto&x_1132){return x_1132;}(UnSome(x_1110.prev)).var,"line_height"));}());}else{ReadMetric(x_1111);return [&](const auto&x_1126){return x_1126;}(HashtblForceFind([&](const auto&x_1124){return x_1124;}(UnSome(x_1110.prev)).var,"y"));}else{if (IsSome(x_1110.parent)){ReadMetric(x_1111);return [&](const auto&x_1114){return x_1114;}(HashtblForceFind([&](const auto&x_1112){return x_1112;}(UnSome(x_1110.parent)).var,"y"));}else{return VFloat(0.);};}auto var_modified_x_981(const auto&x_1136){return [&](const auto&x_1137){OptionMatch(x_1136.next,[&](const auto&x_1139){return Nil();},[&](const auto&x_1138){return Cons(x_1138,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_978(const auto&x_1141){return [&](const auto&x_1142){if (BoolOfValue(eq([&](){ReadMetric(x_1142);return [&](const auto&x_1145){return x_1145;}(HashtblForceFind([&](const auto&x_1143){return x_1143;}(x_1141).var,"position"));}(),VString("absolute")))){return VFloat(0.);}else{ReadMetric(x_1142);return [&](const auto&x_1149){return x_1149;}(HashtblForceFind([&](const auto&x_1147){return x_1147;}(x_1141).var,"width_internal"));};}auto var_modified_x_976(const auto&x_1151){return [&](const auto&x_1152){return MakeUnit();};}auto eval_expr_x_973(const auto&x_1155){return [&](const auto&x_1156){if (BoolOfValue([&](){ReadMetric(x_1156);return [&](const auto&x_1159){return x_1159;}(HashtblForceFind([&](const auto&x_1157){return x_1157;}(x_1155).var,"intrinsic_width_is_width"));}())){ReadMetric(x_1156);return [&](const auto&x_1207){return x_1207;}(HashtblForceFind([&](const auto&x_1205){return x_1205;}(x_1155).var,"intrinsic_width_internal"));}else{if (BoolOfValue((IsSome(x_1155.parent))?([&](){ReadMetric(x_1156);return [&](const auto&x_1163){return x_1163;}(HashtblForceFind([&](const auto&x_1161){return x_1161;}(UnSome(x_1155.parent)).var,"is_flex_row"));}()):(VBool(false)))){return plus([&](){ReadMetric(x_1156);return [&](const auto&x_1195){return x_1195;}(HashtblForceFind([&](const auto&x_1193){return x_1193;}(x_1155).var,"intrinsic_width_internal"));}(),mult([&](){ReadMetric(x_1156);return [&](const auto&x_1199){return x_1199;}(HashtblForceFind([&](const auto&x_1197){return x_1197;}(x_1155).var,"flex_amount"));}(),[&](){ReadMetric(x_1156);return [&](const auto&x_1203){return x_1203;}(HashtblForceFind([&](const auto&x_1201){return x_1201;}(UnSome(x_1155.parent)).var,"flex_unit"));}()));}else{if (BoolOfValue(has_suffix([&](){ReadMetric(x_1156);return [&](const auto&x_1167){return x_1167;}(HashtblForceFind([&](const auto&x_1165){return x_1165;}(x_1155).var,"width_expr"));}(),VString("%")))){return mult([&](){ReadMetric(x_1156);return [&](const auto&x_1187){return x_1187;}(HashtblForceFind([&](const auto&x_1185){return x_1185;}(x_1155).var,"box_width"));}(),divide(string_to_float(strip_suffix([&](){ReadMetric(x_1156);return [&](const auto&x_1191){return x_1191;}(HashtblForceFind([&](const auto&x_1189){return x_1189;}(x_1155).var,"width_expr"));}(),VString("%"))),VFloat(100.)));}else{if (BoolOfValue(eq([&](){ReadMetric(x_1156);return [&](const auto&x_1171){return x_1171;}(HashtblForceFind([&](const auto&x_1169){return x_1169;}(x_1155).var,"width_expr"));}(),VString("fit-content")))){return max([&](){ReadMetric(x_1156);return [&](const auto&x_1179){return x_1179;}(HashtblForceFind([&](const auto&x_1177){return x_1177;}(x_1155).var,"box_width"));}(),[&](){ReadMetric(x_1156);return [&](const auto&x_1183){return x_1183;}(HashtblForceFind([&](const auto&x_1181){return x_1181;}(x_1155).var,"intrinsic_width_internal"));}());}else{return Panic();};}auto var_modified_x_971(const auto&x_1209){return [&](const auto&x_1210){OptionMatch(x_1209.next,[&](const auto&x_1212){return Nil();},[&](const auto&x_1211){return Cons(x_1211,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_968(const auto&x_1215){return [&](const auto&x_1216){if (IsSome(x_1215.prev)){if (BoolOfValue((BoolOfValue([&](){ReadMetric(x_1216);return [&](const auto&x_1223){return x_1223;}(HashtblForceFind([&](const auto&x_1221){return x_1221;}(x_1215).var,"line_break"));}()))?(VBool(true)):([&](){ReadMetric(x_1216);return [&](const auto&x_1227){return x_1227;}(HashtblForceFind([&](const auto&x_1225){return x_1225;}(UnSome(x_1215.prev)).var,"line_break"));}()))){return VFloat(0.);}else{return plus([&](){ReadMetric(x_1216);return [&](const auto&x_1231){return x_1231;}(HashtblForceFind([&](const auto&x_1229){return x_1229;}(UnSome(x_1215.prev)).var,"x"));}(),[&](){ReadMetric(x_1216);return [&](const auto&x_1235){return x_1235;}(HashtblForceFind([&](const auto&x_1233){return x_1233;}(UnSome(x_1215.prev)).var,"width_external"));}());}else{if (IsSome(x_1215.parent)){ReadMetric(x_1216);return [&](const auto&x_1219){return x_1219;}(HashtblForceFind([&](const auto&x_1217){return x_1217;}(UnSome(x_1215.parent)).var,"x"));}else{return VFloat(0.);};}auto var_modified_x_966(const auto&x_1237){return [&](const auto&x_1238){return MakeUnit();};}auto eval_expr_x_963(const auto&x_1241){return [&](const auto&x_1242){if (BoolOfValue(gt([&](){ReadMetric(x_1242);return [&](const auto&x_1245){return x_1245;}(HashtblForceFind([&](const auto&x_1243){return x_1243;}(x_1241).var,"left_over"));}(),VFloat(0.)))){return divide([&](){ReadMetric(x_1242);return [&](const auto&x_1257){return x_1257;}(HashtblForceFind([&](const auto&x_1255){return x_1255;}(x_1241).var,"left_over"));}(),[&](){ReadMetric(x_1242);return [&](const auto&x_1261){return x_1261;}(HashtblForceFind([&](const auto&x_1259){return x_1259;}(x_1241).var,"flex_grow_sum"));}());}else{return divide([&](){ReadMetric(x_1242);return [&](const auto&x_1249){return x_1249;}(HashtblForceFind([&](const auto&x_1247){return x_1247;}(x_1241).var,"left_over"));}(),[&](){ReadMetric(x_1242);return [&](const auto&x_1253){return x_1253;}(HashtblForceFind([&](const auto&x_1251){return x_1251;}(x_1241).var,"flex_shrink_sum"));}());};}auto var_modified_x_961(const auto&x_1263){return [&](const auto&x_1264){return MakeUnit();};}auto eval_expr_x_958(const auto&x_1267){return [&](const auto&x_1268){if (BoolOfValue((IsSome(x_1267.parent))?(gt([&](){ReadMetric(x_1268);return [&](const auto&x_1271){return x_1271;}(HashtblForceFind([&](const auto&x_1269){return x_1269;}(UnSome(x_1267.parent)).var,"left_over"));}(),VFloat(0.))):(VBool(false)))){ReadMetric(x_1268);return [&](const auto&x_1279){return x_1279;}(HashtblForceFind([&](const auto&x_1277){return x_1277;}(x_1267).var,"flex_grow"));}else{ReadMetric(x_1268);return [&](const auto&x_1275){return x_1275;}(HashtblForceFind([&](const auto&x_1273){return x_1273;}(x_1267).var,"flex_shrink"));};}auto var_modified_x_956(const auto&x_1281){return [&](const auto&x_1282){return MakeUnit();};}auto eval_expr_x_953(const auto&x_1287){return [&](const auto&x_1288){if (BoolOfValue([&](){ReadMetric(x_1288);return [&](const auto&x_1291){return x_1291;}(HashtblForceFind([&](const auto&x_1289){return x_1289;}(x_1287).var,"is_flex_row"));}())){return minus([&](){ReadMetric(x_1288);return [&](const auto&x_1303){return x_1303;}(HashtblForceFind([&](const auto&x_1301){return x_1301;}(x_1287).var,"box_width"));}(),(IsSome(ListLast(x_1287.children)))?([&](){ReadMetric(x_1288);return [&](const auto&x_1307){return x_1307;}(HashtblForceFind([&](const auto&x_1305){return x_1305;}(UnSome(ListLast(x_1287.children))).var,"intrinsic_width_sum"));}()):(VFloat(0.)));}else{return minus([&](){ReadMetric(x_1288);return [&](const auto&x_1295){return x_1295;}(HashtblForceFind([&](const auto&x_1293){return x_1293;}(x_1287).var,"box_height"));}(),(IsSome(ListLast(x_1287.children)))?([&](){ReadMetric(x_1288);return [&](const auto&x_1299){return x_1299;}(HashtblForceFind([&](const auto&x_1297){return x_1297;}(UnSome(ListLast(x_1287.children))).var,"intrinsic_height_sum"));}()):(VFloat(0.)));};}auto var_modified_x_951(const auto&x_1309){return [&](const auto&x_1310){return MakeUnit();};}auto eval_expr_x_948(const auto&x_1314){return [&](const auto&x_1315){if (IsSome(x_1314.parent)){ReadMetric(x_1315);return [&](const auto&x_1318){return x_1318;}(HashtblForceFind([&](const auto&x_1316){return x_1316;}(UnSome(x_1314.parent)).var,"height_internal"));}else{return VFloat(1080.);};}auto var_modified_x_946(const auto&x_1320){return [&](const auto&x_1321){return MakeUnit();};}auto eval_expr_x_943(const auto&x_1325){return [&](const auto&x_1326){if (IsSome(x_1325.parent)){ReadMetric(x_1326);return [&](const auto&x_1329){return x_1329;}(HashtblForceFind([&](const auto&x_1327){return x_1327;}(UnSome(x_1325.parent)).var,"width_internal"));}else{return VFloat(1920.);};}auto var_modified_x_939(const auto&x_1331){return [&](const auto&x_1332){OptionMatch(x_1331.next,[&](const auto&x_1334){return Nil();},[&](const auto&x_1333){return Cons(x_1333,Nil());});MakeUnit();MakeUnit();OptionMatch(x_1331.next,[&](const auto&x_1341){return Nil();},[&](const auto&x_1340){return Cons(x_1340,Nil());});OptionMatch(x_1331.next,[&](const auto&x_1345){return Nil();},[&](const auto&x_1344){return Cons(x_1344,Nil());});OptionMatch(x_1331.next,[&](const auto&x_1348){return Nil();},[&](const auto&x_1347){return Cons(x_1347,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_936(const auto&x_1350){return [&](const auto&x_1351){if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1354){return x_1354;}(HashtblForceFind([&](const auto&x_1352){return x_1352;}(x_1350).var,"display"));}(),VString("none")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1358){return x_1358;}(HashtblForceFind([&](const auto&x_1356){return x_1356;}(x_1350).var,"position"));}(),VString("absolute")))){return VBool(false);}else{if (BoolOfValue((IsSome(x_1350.parent))?((BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1362){return x_1362;}(HashtblForceFind([&](const auto&x_1360){return x_1360;}(UnSome(x_1350.parent)).var,"display"));}(),VString("flex"))))?(VBool(true)):(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1366){return x_1366;}(HashtblForceFind([&](const auto&x_1364){return x_1364;}(UnSome(x_1350.parent)).var,"display"));}(),VString("inline-flex")))):(VBool(false)))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1370){return x_1370;}(HashtblForceFind([&](const auto&x_1368){return x_1368;}(x_1350).var,"display"));}(),VString("block")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1374){return x_1374;}(HashtblForceFind([&](const auto&x_1372){return x_1372;}(x_1350).var,"display"));}(),VString("inline")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1378){return x_1378;}(HashtblForceFind([&](const auto&x_1376){return x_1376;}(x_1350).var,"display"));}(),VString("inline-block")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1382){return x_1382;}(HashtblForceFind([&](const auto&x_1380){return x_1380;}(x_1350).var,"display"));}(),VString("flex")))){if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1420){return x_1420;}(HashtblForceFind(x_1350.prop,"flex-direction"));}(),VString("row")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1422){return x_1422;}(HashtblForceFind(x_1350.prop,"flex-direction"));}(),VString("column")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1424){return x_1424;}(HashtblForceFind(x_1350.prop,"flex-direction"));}(),VString("column-reverse")))){return VBool(true);}else{return Panic();}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1386){return x_1386;}(HashtblForceFind([&](const auto&x_1384){return x_1384;}(x_1350).var,"display"));}(),VString("inline-flex")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1390){return x_1390;}(HashtblForceFind([&](const auto&x_1388){return x_1388;}(x_1350).var,"display"));}(),VString("contents")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1394){return x_1394;}(HashtblForceFind([&](const auto&x_1392){return x_1392;}(x_1350).var,"display"));}(),VString("table")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1398){return x_1398;}(HashtblForceFind([&](const auto&x_1396){return x_1396;}(x_1350).var,"display"));}(),VString("table-row-group")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1402){return x_1402;}(HashtblForceFind([&](const auto&x_1400){return x_1400;}(x_1350).var,"display"));}(),VString("table-row")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1406){return x_1406;}(HashtblForceFind([&](const auto&x_1404){return x_1404;}(x_1350).var,"display"));}(),VString("table-cell")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1410){return x_1410;}(HashtblForceFind([&](const auto&x_1408){return x_1408;}(x_1350).var,"display"));}(),VString("list-item")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1351);return [&](const auto&x_1414){return x_1414;}(HashtblForceFind([&](const auto&x_1412){return x_1412;}(x_1350).var,"display"));}(),VString("grid")))){return VBool(true);}else{return Panic();};}auto var_modified_x_934(const auto&x_1428){return [&](const auto&x_1429){return MakeUnit();};}auto eval_expr_x_931(const auto&x_1431){return [&](const auto&x_1432){if (BoolOfValue((BoolOfValue(not(VBool(IsSome(x_1431.parent)))))?(VBool(true)):([&](){ReadMetric(x_1432);return [&](const auto&x_1435){return x_1435;}(HashtblForceFind([&](const auto&x_1433){return x_1433;}(UnSome(x_1431.parent)).var,"visible"));}()))){if (BoolOfValue(neq([&](){ReadMetric(x_1432);return [&](const auto&x_1439){return x_1439;}(HashtblForceFind([&](const auto&x_1437){return x_1437;}(x_1431).var,"display"));}(),VString("none")))){if (BoolOfValue(not([&](){ReadMetric(x_1432);return [&](const auto&x_1443){return x_1443;}(HashtblForceFind([&](const auto&x_1441){return x_1441;}(x_1431).var,"inside_svg"));}()))){return not([&](){ReadMetric(x_1432);return [&](const auto&x_1447){return x_1447;}(HashtblForceFind([&](const auto&x_1445){return x_1445;}(x_1431).var,"disabled"));}());}else{return VBool(false);}else{return VBool(false);}else{return VBool(false);};}auto var_modified_x_929(const auto&x_1449){return [&](const auto&x_1450){return MakeUnit();};}auto eval_expr_x_926(const auto&x_1458){return [&](const auto&x_1459){if (StringEqual(x_1458.name,"NOSCRIPT")){return VBool(true);}else{if (IsSome(x_1458.parent)){ReadMetric(x_1459);return [&](const auto&x_1462){return x_1462;}(HashtblForceFind([&](const auto&x_1460){return x_1460;}(UnSome(x_1458.parent)).var,"disabled"));}else{return VBool(false);};}auto var_modified_x_924(const auto&x_1464){return [&](const auto&x_1465){return MakeUnit();};}auto eval_expr_x_921(const auto&x_1473){return [&](const auto&x_1474){if (IsSome(x_1473.parent)){if (BoolOfValue([&](){ReadMetric(x_1474);return [&](const auto&x_1477){return x_1477;}(HashtblForceFind([&](const auto&x_1475){return x_1475;}(UnSome(x_1473.parent)).var,"is_svg_block"));}())){return VBool(true);}else{ReadMetric(x_1474);return [&](const auto&x_1481){return x_1481;}(HashtblForceFind([&](const auto&x_1479){return x_1479;}(UnSome(x_1473.parent)).var,"inside_svg"));}else{return VBool(false);};}auto var_modified_x_919(const auto&x_1483){return [&](const auto&x_1484){return MakeUnit();};}auto eval_expr_x_916(const auto&x_1486){return [&](const auto&x_1487){return eq(VString(x_1486.name),VString("svg"));};}auto var_modified_x_914(const auto&x_1488){return [&](const auto&x_1489){return MakeUnit();};}auto eval_expr_x_911(const auto&x_1498){return [&](const auto&x_1499){return neq([&](){ReadMetric(x_1499);return [&](const auto&x_1502){return x_1502;}(HashtblForceFind([&](const auto&x_1500){return x_1500;}(x_1498).var,"height_attr_expr"));}(),VString("auto"));};}auto var_modified_x_909(const auto&x_1504){return [&](const auto&x_1505){return MakeUnit();};}auto eval_expr_x_906(const auto&x_1513){return [&](const auto&x_1514){if (BoolOfValue(not(VBool(IsSome(HashtblFind(x_1513.attr,"height")))))){return VString("auto");}else{if (BoolOfValue((BoolOfValue(string_is_float([&](){ReadMetric(x_1514);return [&](const auto&x_1515){return x_1515;}(HashtblForceFind(x_1513.attr,"height"));}())))?(VBool(true)):(has_suffix([&](){ReadMetric(x_1514);return [&](const auto&x_1517){return x_1517;}(HashtblForceFind(x_1513.attr,"height"));}(),VString("%"))))){ReadMetric(x_1514);return [&](const auto&x_1523){return x_1523;}(HashtblForceFind(x_1513.attr,"height"));}else{if (BoolOfValue(eq([&](){ReadMetric(x_1514);return [&](const auto&x_1519){return x_1519;}(HashtblForceFind(x_1513.attr,"height"));}(),VString("Auto")))){return VString("auto");}else{return Panic();};}auto var_modified_x_904(const auto&x_1525){return [&](const auto&x_1526){return MakeUnit();};}auto eval_expr_x_901(const auto&x_1536){return [&](const auto&x_1537){return neq([&](){ReadMetric(x_1537);return [&](const auto&x_1540){return x_1540;}(HashtblForceFind([&](const auto&x_1538){return x_1538;}(x_1536).var,"width_attr_expr"));}(),VString("auto"));};}auto var_modified_x_899(const auto&x_1542){return [&](const auto&x_1543){return MakeUnit();};}auto eval_expr_x_896(const auto&x_1551){return [&](const auto&x_1552){if (BoolOfValue(not(VBool(IsSome(HashtblFind(x_1551.attr,"width")))))){return VString("auto");}else{if (BoolOfValue((BoolOfValue(string_is_float([&](){ReadMetric(x_1552);return [&](const auto&x_1553){return x_1553;}(HashtblForceFind(x_1551.attr,"width"));}())))?(VBool(true)):(has_suffix([&](){ReadMetric(x_1552);return [&](const auto&x_1555){return x_1555;}(HashtblForceFind(x_1551.attr,"width"));}(),VString("%"))))){ReadMetric(x_1552);return [&](const auto&x_1561){return x_1561;}(HashtblForceFind(x_1551.attr,"width"));}else{if (BoolOfValue(eq([&](){ReadMetric(x_1552);return [&](const auto&x_1557){return x_1557;}(HashtblForceFind(x_1551.attr,"width"));}(),VString("Auto")))){return VString("auto");}else{return Panic();};}auto var_modified_x_894(const auto&x_1563){return [&](const auto&x_1564){return MakeUnit();};}auto eval_expr_x_891(const auto&x_1567){return [&](const auto&x_1568){if (BoolOfValue((IsSome(x_1567.parent))?((BoolOfValue(eq([&](){ReadMetric(x_1568);return [&](const auto&x_1571){return x_1571;}(HashtblForceFind([&](const auto&x_1569){return x_1569;}(UnSome(x_1567.parent)).var,"display"));}(),VString("flex"))))?(VBool(true)):(eq([&](){ReadMetric(x_1568);return [&](const auto&x_1575){return x_1575;}(HashtblForceFind([&](const auto&x_1573){return x_1573;}(UnSome(x_1567.parent)).var,"display"));}(),VString("inline-flex")))):(VBool(false)))){if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_1568);return [&](const auto&x_1579){return x_1579;}(HashtblForceFind([&](const auto&x_1577){return x_1577;}(UnSome(x_1567.parent)).var,"flex_direction"));}(),VString("column"))))?(VBool(true)):(eq([&](){ReadMetric(x_1568);return [&](const auto&x_1583){return x_1583;}(HashtblForceFind([&](const auto&x_1581){return x_1581;}(UnSome(x_1567.parent)).var,"flex_direction"));}(),VString("column-reverse"))))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_1568);return [&](const auto&x_1587){return x_1587;}(HashtblForceFind([&](const auto&x_1585){return x_1585;}(UnSome(x_1567.parent)).var,"flex_direction"));}(),VString("row")))){return VBool(false);}else{return Panic();}else{return VBool(false);};}auto var_modified_x_889(const auto&x_1593){return [&](const auto&x_1594){return MakeUnit();};}auto eval_expr_x_886(const auto&x_1598){return [&](const auto&x_1599){if (BoolOfValue((IsSome(x_1598.parent))?((BoolOfValue(eq([&](){ReadMetric(x_1599);return [&](const auto&x_1602){return x_1602;}(HashtblForceFind([&](const auto&x_1600){return x_1600;}(UnSome(x_1598.parent)).var,"display"));}(),VString("flex"))))?(VBool(true)):(eq([&](){ReadMetric(x_1599);return [&](const auto&x_1606){return x_1606;}(HashtblForceFind([&](const auto&x_1604){return x_1604;}(UnSome(x_1598.parent)).var,"display"));}(),VString("inline-flex")))):(VBool(false)))){if (BoolOfValue(eq([&](){ReadMetric(x_1599);return [&](const auto&x_1610){return x_1610;}(HashtblForceFind([&](const auto&x_1608){return x_1608;}(UnSome(x_1598.parent)).var,"flex_direction"));}(),VString("row")))){return VBool(true);}else{if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_1599);return [&](const auto&x_1614){return x_1614;}(HashtblForceFind([&](const auto&x_1612){return x_1612;}(UnSome(x_1598.parent)).var,"flex_direction"));}(),VString("column"))))?(VBool(true)):(eq([&](){ReadMetric(x_1599);return [&](const auto&x_1618){return x_1618;}(HashtblForceFind([&](const auto&x_1616){return x_1616;}(UnSome(x_1598.parent)).var,"flex_direction"));}(),VString("column-reverse"))))){return VBool(false);}else{return Panic();}else{return VBool(false);};}auto var_modified_x_884(const auto&x_1624){return [&](const auto&x_1625){return MakeUnit();};}auto eval_expr_x_881(const auto&x_1632){return [&](const auto&x_1633){if (IsSome(HashtblFind(x_1632.prop,"flex-direction"))){ReadMetric(x_1633);return [&](const auto&x_1634){return x_1634;}(HashtblForceFind(x_1632.prop,"flex-direction"));}else{return VString("");};}auto var_modified_x_879(const auto&x_1636){return [&](const auto&x_1637){OptionMatch(x_1636.next,[&](const auto&x_1639){return Nil();},[&](const auto&x_1638){return Cons(x_1638,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_876(const auto&x_1642){return [&](const auto&x_1643){return plus((IsSome(x_1642.prev))?([&](){ReadMetric(x_1643);return [&](const auto&x_1646){return x_1646;}(HashtblForceFind([&](const auto&x_1644){return x_1644;}(UnSome(x_1642.prev)).var,"flex_shrink_sum"));}()):(VFloat(0.)),[&](){ReadMetric(x_1643);return [&](const auto&x_1650){return x_1650;}(HashtblForceFind([&](const auto&x_1648){return x_1648;}(x_1642).var,"flex_shrink"));}());};}auto var_modified_x_874(const auto&x_1652){return [&](const auto&x_1653){OptionMatch(x_1652.next,[&](const auto&x_1655){return Nil();},[&](const auto&x_1654){return Cons(x_1654,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_871(const auto&x_1658){return [&](const auto&x_1659){return plus((IsSome(x_1658.prev))?([&](){ReadMetric(x_1659);return [&](const auto&x_1662){return x_1662;}(HashtblForceFind([&](const auto&x_1660){return x_1660;}(UnSome(x_1658.prev)).var,"flex_grow_sum"));}()):(VFloat(0.)),[&](){ReadMetric(x_1659);return [&](const auto&x_1666){return x_1666;}(HashtblForceFind([&](const auto&x_1664){return x_1664;}(x_1658).var,"flex_grow"));}());};}auto var_modified_x_869(const auto&x_1668){return [&](const auto&x_1669){return MakeUnit();};}auto eval_expr_x_866(const auto&x_1672){return [&](const auto&x_1673){if (IsSome(HashtblFind(x_1672.prop,"flex-shrink"))){return string_to_float([&](){ReadMetric(x_1673);return [&](const auto&x_1674){return x_1674;}(HashtblForceFind(x_1672.prop,"flex-shrink"));}());}else{return VFloat(0.);};}auto var_modified_x_864(const auto&x_1676){return [&](const auto&x_1677){return MakeUnit();};}auto eval_expr_x_861(const auto&x_1680){return [&](const auto&x_1681){if (IsSome(HashtblFind(x_1680.prop,"flex-grow"))){return string_to_float([&](){ReadMetric(x_1681);return [&](const auto&x_1682){return x_1682;}(HashtblForceFind(x_1680.prop,"flex-grow"));}());}else{return VFloat(0.);};}auto var_modified_x_859(const auto&x_1684){return [&](const auto&x_1685){return MakeUnit();};}auto eval_expr_x_856(const auto&x_1691){return [&](const auto&x_1692){if (IsSome(HashtblFind(x_1691.prop,"position"))){ReadMetric(x_1692);return [&](const auto&x_1693){return x_1693;}(HashtblForceFind(x_1691.prop,"position"));}else{return VString("static");};}auto var_modified_x_854(const auto&x_1695){return [&](const auto&x_1696){return MakeUnit();};}auto eval_expr_x_851(const auto&x_1722){return [&](const auto&x_1723){if (IsSome(HashtblFind(x_1722.prop,"display"))){ReadMetric(x_1723);return [&](const auto&x_1724){return x_1724;}(HashtblForceFind(x_1722.prop,"display"));}else{return VString("block");};}auto var_modified_x_847(const auto&x_1726){return [&](const auto&x_1727){if (IsNone(x_1726.next)){OptionMatch(x_1726.parent,[&](const auto&x_1729){return Nil();},[&](const auto&x_1728){return Cons(x_1728,Nil());});}else{Nil();OptionMatch(x_1726.next,[&](const auto&x_1732){return Nil();},[&](const auto&x_1731){return Cons(x_1731,Nil());});OptionMatch(x_1726.next,[&](const auto&x_1735){return Nil();},[&](const auto&x_1734){return Cons(x_1734,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_844(const auto&x_1737){return [&](const auto&x_1738){if (IsSome(x_1737.prev)){if (BoolOfValue([&](){ReadMetric(x_1738);return [&](const auto&x_1749){return x_1749;}(HashtblForceFind([&](const auto&x_1747){return x_1747;}(x_1737).var,"line_break"));}())){return plus([&](){ReadMetric(x_1738);return [&](const auto&x_1757){return x_1757;}(HashtblForceFind([&](const auto&x_1755){return x_1755;}(UnSome(x_1737.prev)).var,"finished_intrinsic_height_sum"));}(),plus([&](){ReadMetric(x_1738);return [&](const auto&x_1761){return x_1761;}(HashtblForceFind([&](const auto&x_1759){return x_1759;}(UnSome(x_1737.prev)).var,"intrinsic_current_line_height"));}(),[&](){ReadMetric(x_1738);return [&](const auto&x_1765){return x_1765;}(HashtblForceFind([&](const auto&x_1763){return x_1763;}(x_1737).var,"intrinsic_height_external"));}()));}else{ReadMetric(x_1738);return [&](const auto&x_1753){return x_1753;}(HashtblForceFind([&](const auto&x_1751){return x_1751;}(UnSome(x_1737.prev)).var,"finished_intrinsic_height_sum"));}else{if (BoolOfValue([&](){ReadMetric(x_1738);return [&](const auto&x_1741){return x_1741;}(HashtblForceFind([&](const auto&x_1739){return x_1739;}(x_1737).var,"line_break"));}())){ReadMetric(x_1738);return [&](const auto&x_1745){return x_1745;}(HashtblForceFind([&](const auto&x_1743){return x_1743;}(x_1737).var,"intrinsic_height_external"));}else{return VFloat(0.);};}auto var_modified_x_842(const auto&x_1767){return [&](const auto&x_1768){if (IsNone(x_1767.next)){OptionMatch(x_1767.parent,[&](const auto&x_1770){return Nil();},[&](const auto&x_1769){return Cons(x_1769,Nil());});}else{Nil();OptionMatch(x_1767.next,[&](const auto&x_1773){return Nil();},[&](const auto&x_1772){return Cons(x_1772,Nil());});OptionMatch(x_1767.next,[&](const auto&x_1776){return Nil();},[&](const auto&x_1775){return Cons(x_1775,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_839(const auto&x_1778){return [&](const auto&x_1779){if (BoolOfValue([&](){ReadMetric(x_1779);return [&](const auto&x_1782){return x_1782;}(HashtblForceFind([&](const auto&x_1780){return x_1780;}(x_1778).var,"line_break"));}())){return VFloat(0.);}else{return max([&](){ReadMetric(x_1779);return [&](const auto&x_1786){return x_1786;}(HashtblForceFind([&](const auto&x_1784){return x_1784;}(x_1778).var,"intrinsic_height_external"));}(),(IsSome(x_1778.prev))?([&](){ReadMetric(x_1779);return [&](const auto&x_1790){return x_1790;}(HashtblForceFind([&](const auto&x_1788){return x_1788;}(UnSome(x_1778.prev)).var,"intrinsic_current_line_height"));}()):(VFloat(0.)));};}auto var_modified_x_837(const auto&x_1792){return [&](const auto&x_1793){OptionMatch(x_1792.next,[&](const auto&x_1795){return Nil();},[&](const auto&x_1794){return Cons(x_1794,Nil());});MakeUnit();MakeUnit();if (IsNone(x_1792.next)){OptionMatch(x_1792.parent,[&](const auto&x_1798){return Nil();},[&](const auto&x_1797){return Cons(x_1797,Nil());});}else{Nil();MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_834(const auto&x_1800){return [&](const auto&x_1801){return plus((IsSome(x_1800.prev))?([&](){ReadMetric(x_1801);return [&](const auto&x_1804){return x_1804;}(HashtblForceFind([&](const auto&x_1802){return x_1802;}(UnSome(x_1800.prev)).var,"intrinsic_height_sum"));}()):(VFloat(0.)),[&](){ReadMetric(x_1801);return [&](const auto&x_1808){return x_1808;}(HashtblForceFind([&](const auto&x_1806){return x_1806;}(x_1800).var,"intrinsic_height_external"));}());};}auto var_modified_x_832(const auto&x_1810){return [&](const auto&x_1811){return MakeUnit();};}auto eval_expr_x_829(const auto&x_1816){return [&](const auto&x_1817){if (BoolOfValue(eq([&](){ReadMetric(x_1817);return [&](const auto&x_1820){return x_1820;}(HashtblForceFind([&](const auto&x_1818){return x_1818;}(x_1816).var,"position"));}(),VString("absolute")))){return VFloat(0.);}else{ReadMetric(x_1817);return [&](const auto&x_1824){return x_1824;}(HashtblForceFind([&](const auto&x_1822){return x_1822;}(x_1816).var,"intrinsic_height_internal"));};}auto var_modified_x_827(const auto&x_1826){return [&](const auto&x_1827){return MakeUnit();};}auto eval_expr_x_824(const auto&x_1832){return [&](const auto&x_1833){if (BoolOfValue(eq([&](){ReadMetric(x_1833);return [&](const auto&x_1836){return x_1836;}(HashtblForceFind([&](const auto&x_1834){return x_1834;}(x_1832).var,"display"));}(),VString("none")))){return VFloat(0.);}else{if (BoolOfValue([&](){ReadMetric(x_1833);return [&](const auto&x_1840){return x_1840;}(HashtblForceFind([&](const auto&x_1838){return x_1838;}(x_1832).var,"inside_svg"));}())){return VFloat(0.);}else{if (BoolOfValue([&](){ReadMetric(x_1833);return [&](const auto&x_1844){return x_1844;}(HashtblForceFind([&](const auto&x_1842){return x_1842;}(x_1832).var,"disabled"));}())){return VFloat(0.);}else{if (BoolOfValue((BoolOfValue(neq([&](){ReadMetric(x_1833);return [&](const auto&x_1848){return x_1848;}(HashtblForceFind([&](const auto&x_1846){return x_1846;}(x_1832).var,"height_expr"));}(),VString("auto"))))?((BoolOfValue(not(has_suffix([&](){ReadMetric(x_1833);return [&](const auto&x_1852){return x_1852;}(HashtblForceFind([&](const auto&x_1850){return x_1850;}(x_1832).var,"height_expr"));}(),VString("%")))))?(neq([&](){ReadMetric(x_1833);return [&](const auto&x_1856){return x_1856;}(HashtblForceFind([&](const auto&x_1854){return x_1854;}(x_1832).var,"height_expr"));}(),VString("fit-content"))):(VBool(false))):(VBool(false)))){if (BoolOfValue(has_suffix([&](){ReadMetric(x_1833);return [&](const auto&x_1952){return x_1952;}(HashtblForceFind([&](const auto&x_1950){return x_1950;}(x_1832).var,"height_expr"));}(),VString("px")))){return string_to_float(strip_suffix([&](){ReadMetric(x_1833);return [&](const auto&x_1976){return x_1976;}(HashtblForceFind([&](const auto&x_1974){return x_1974;}(x_1832).var,"height_expr"));}(),VString("px")));}else{if (BoolOfValue(has_suffix([&](){ReadMetric(x_1833);return [&](const auto&x_1956){return x_1956;}(HashtblForceFind([&](const auto&x_1954){return x_1954;}(x_1832).var,"height_expr"));}(),VString("ch")))){return string_to_float(strip_suffix([&](){ReadMetric(x_1833);return [&](const auto&x_1972){return x_1972;}(HashtblForceFind([&](const auto&x_1970){return x_1970;}(x_1832).var,"height_expr"));}(),VString("ch")));}else{if (BoolOfValue(has_suffix([&](){ReadMetric(x_1833);return [&](const auto&x_1960){return x_1960;}(HashtblForceFind([&](const auto&x_1958){return x_1958;}(x_1832).var,"height_expr"));}(),VString("lh")))){return string_to_float(strip_suffix([&](){ReadMetric(x_1833);return [&](const auto&x_1968){return x_1968;}(HashtblForceFind([&](const auto&x_1966){return x_1966;}(x_1832).var,"height_expr"));}(),VString("lh")));}else{return Panic();}else{return plus([&](){ReadMetric(x_1833);return [&](const auto&x_1860){return x_1860;}(HashtblForceFind([&](const auto&x_1858){return x_1858;}(x_1832).var,"children_intrinsic_height"));}(),(StringEqual(x_1832.name,"#text"))?((IsSome(ListHead(x_1832.children)))?(Panic()):(VFloat(10.))):((BoolOfValue([&](){ReadMetric(x_1833);return [&](const auto&x_1864){return x_1864;}(HashtblForceFind([&](const auto&x_1862){return x_1862;}(x_1832).var,"is_default_case"));}()))?(VFloat(0.)):((StringEqual(x_1832.name,"BR"))?((IsSome(ListHead(x_1832.children)))?(Panic()):(VFloat(0.))):((StringEqual(x_1832.name,"INPUT"))?(VFloat(10.)):((StringEqual(x_1832.name,"svg"))?((BoolOfValue((BoolOfValue([&](){ReadMetric(x_1833);return [&](const auto&x_1924){return x_1924;}(HashtblForceFind([&](const auto&x_1922){return x_1922;}(x_1832).var,"has_height_attr"));}()))?(string_is_float([&](){ReadMetric(x_1833);return [&](const auto&x_1928){return x_1928;}(HashtblForceFind([&](const auto&x_1926){return x_1926;}(x_1832).var,"height_attr_expr"));}())):(VBool(false))))?(string_to_float([&](){ReadMetric(x_1833);return [&](const auto&x_1948){return x_1948;}(HashtblForceFind([&](const auto&x_1946){return x_1946;}(x_1832).var,"height_attr_expr"));}())):((IsSome(HashtblFind(x_1832.attr,"viewBox")))?(string_to_float(nth_by_sep([&](){ReadMetric(x_1833);return [&](const auto&x_1944){return x_1944;}(HashtblForceFind(x_1832.attr,"viewBox"));}(),VString(" "),VInt(3)))):((BoolOfValue((BoolOfValue([&](){ReadMetric(x_1833);return [&](const auto&x_1932){return x_1932;}(HashtblForceFind([&](const auto&x_1930){return x_1930;}(x_1832).var,"has_height_attr"));}()))?((BoolOfValue(has_suffix([&](){ReadMetric(x_1833);return [&](const auto&x_1936){return x_1936;}(HashtblForceFind([&](const auto&x_1934){return x_1934;}(x_1832).var,"height_attr_expr"));}(),VString("%"))))?(VBool(IsSome(HashtblFind(x_1832.attr,"viewBox")))):(VBool(false))):(VBool(false))))?(mult(string_to_float(nth_by_sep([&](){ReadMetric(x_1833);return [&](const auto&x_1938){return x_1938;}(HashtblForceFind(x_1832.attr,"viewBox"));}(),VString(" "),VInt(3))),divide(string_to_float(strip_suffix([&](){ReadMetric(x_1833);return [&](const auto&x_1942){return x_1942;}(HashtblForceFind([&](const auto&x_1940){return x_1940;}(x_1832).var,"height_attr_expr"));}(),VString("%"))),VFloat(100.)))):(Panic())))):((StringEqual(x_1832.name,"IMG"))?((BoolOfValue([&](){ReadMetric(x_1833);return [&](const auto&x_1884){return x_1884;}(HashtblForceFind([&](const auto&x_1882){return x_1882;}(x_1832).var,"has_height_attr"));}()))?(string_to_float([&](){ReadMetric(x_1833);return [&](const auto&x_1920){return x_1920;}(HashtblForceFind([&](const auto&x_1918){return x_1918;}(x_1832).var,"height_attr_expr"));}())):((BoolOfValue((IsSome(HashtblFind(x_1832.attr,"image_height")))?(not([&](){ReadMetric(x_1833);return [&](const auto&x_1888){return x_1888;}(HashtblForceFind([&](const auto&x_1886){return x_1886;}(x_1832).var,"has_width_attr"));}())):(VBool(false))))?(int_to_float([&](){ReadMetric(x_1833);return [&](const auto&x_1916){return x_1916;}(HashtblForceFind(x_1832.attr,"image_height"));}())):((BoolOfValue((BoolOfValue([&](){ReadMetric(x_1833);return [&](const auto&x_1892){return x_1892;}(HashtblForceFind([&](const auto&x_1890){return x_1890;}(x_1832).var,"has_width_attr"));}()))?((BoolOfValue(not([&](){ReadMetric(x_1833);return [&](const auto&x_1896){return x_1896;}(HashtblForceFind([&](const auto&x_1894){return x_1894;}(x_1832).var,"has_height_attr"));}())))?((IsSome(HashtblFind(x_1832.attr,"image_width")))?(VBool(IsSome(HashtblFind(x_1832.attr,"image_height")))):(VBool(false))):(VBool(false))):(VBool(false))))?((BoolOfValue(neq([&](){ReadMetric(x_1833);return [&](const auto&x_1906){return x_1906;}(HashtblForceFind(x_1832.attr,"image_width"));}(),VInt(0))))?(mult(string_to_float([&](){ReadMetric(x_1833);return [&](const auto&x_1910){return x_1910;}(HashtblForceFind([&](const auto&x_1908){return x_1908;}(x_1832).var,"width_attr_expr"));}()),divide(int_to_float([&](){ReadMetric(x_1833);return [&](const auto&x_1912){return x_1912;}(HashtblForceFind(x_1832.attr,"image_height"));}()),int_to_float([&](){ReadMetric(x_1833);return [&](const auto&x_1914){return x_1914;}(HashtblForceFind(x_1832.attr,"image_width"));}())))):(VFloat(0.))):(Panic())))):((StringEqual(x_1832.name,"IFRAME"))?((BoolOfValue([&](){ReadMetric(x_1833);return [&](const auto&x_1876){return x_1876;}(HashtblForceFind([&](const auto&x_1874){return x_1874;}(x_1832).var,"has_height_attr"));}()))?(Panic()):(VFloat(150.))):((StringEqual(x_1832.name,"TEXTAREA"))?(VFloat(100.)):((StringEqual(x_1832.name,"VIDEO"))?((BoolOfValue([&](){ReadMetric(x_1833);return [&](const auto&x_1868){return x_1868;}(HashtblForceFind([&](const auto&x_1866){return x_1866;}(x_1832).var,"has_height_attr"));}()))?(Panic()):(VFloat(150.))):(Panic()))))))))));};}auto var_modified_x_822(const auto&x_1978){return [&](const auto&x_1979){return MakeUnit();};}auto eval_expr_x_819(const auto&x_1981){return [&](const auto&x_1982){if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_1982);return [&](const auto&x_1985){return x_1985;}(HashtblForceFind([&](const auto&x_1983){return x_1983;}(x_1981).var,"display"));}(),VString("none"))))?(VBool(true)):((BoolOfValue([&](){ReadMetric(x_1982);return [&](const auto&x_1989){return x_1989;}(HashtblForceFind([&](const auto&x_1987){return x_1987;}(x_1981).var,"inside_svg"));}()))?(VBool(true)):([&](){ReadMetric(x_1982);return [&](const auto&x_1993){return x_1993;}(HashtblForceFind([&](const auto&x_1991){return x_1991;}(x_1981).var,"disabled"));}())))){return VBool(true);}else{if (BoolOfValue((IsSome(x_1981.parent))?([&](){ReadMetric(x_1982);return [&](const auto&x_1997){return x_1997;}(HashtblForceFind([&](const auto&x_1995){return x_1995;}(UnSome(x_1981.parent)).var,"is_flex_column"));}()):(VBool(false)))){return VBool(false);}else{if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_1982);return [&](const auto&x_2001){return x_2001;}(HashtblForceFind([&](const auto&x_1999){return x_1999;}(x_1981).var,"height_expr"));}(),VString("auto"))))?(VBool(true)):((BoolOfValue(has_suffix([&](){ReadMetric(x_1982);return [&](const auto&x_2005){return x_2005;}(HashtblForceFind([&](const auto&x_2003){return x_2003;}(x_1981).var,"height_expr"));}(),VString("px"))))?(VBool(true)):((BoolOfValue(has_suffix([&](){ReadMetric(x_1982);return [&](const auto&x_2009){return x_2009;}(HashtblForceFind([&](const auto&x_2007){return x_2007;}(x_1981).var,"height_expr"));}(),VString("ch"))))?(VBool(true)):((BoolOfValue(has_suffix([&](){ReadMetric(x_1982);return [&](const auto&x_2013){return x_2013;}(HashtblForceFind([&](const auto&x_2011){return x_2011;}(x_1981).var,"height_expr"));}(),VString("lh"))))?(VBool(true)):(eq([&](){ReadMetric(x_1982);return [&](const auto&x_2017){return x_2017;}(HashtblForceFind([&](const auto&x_2015){return x_2015;}(x_1981).var,"height_expr"));}(),VString("max-content")))))))){return VBool(true);}else{if (BoolOfValue((BoolOfValue(has_suffix([&](){ReadMetric(x_1982);return [&](const auto&x_2021){return x_2021;}(HashtblForceFind([&](const auto&x_2019){return x_2019;}(x_1981).var,"height_expr"));}(),VString("%"))))?(VBool(true)):(eq([&](){ReadMetric(x_1982);return [&](const auto&x_2025){return x_2025;}(HashtblForceFind([&](const auto&x_2023){return x_2023;}(x_1981).var,"height_expr"));}(),VString("fit-content"))))){return VBool(false);}else{return Panic();};}auto var_modified_x_817(const auto&x_2031){return [&](const auto&x_2032){return MakeUnit();};}auto eval_expr_x_814(const auto&x_2052){return [&](const auto&x_2053){if (IsSome(HashtblFind(x_2052.prop,"height"))){ReadMetric(x_2053);return [&](const auto&x_2054){return x_2054;}(HashtblForceFind(x_2052.prop,"height"));}else{return VString("auto");};}auto var_modified_x_812(const auto&x_2056){return [&](const auto&x_2057){return MakeUnit();};}auto eval_expr_x_809(const auto&x_2059){return [&](const auto&x_2060){if (IsSome(ListLast(x_2059.children))){return plus([&](){ReadMetric(x_2060);return [&](const auto&x_2063){return x_2063;}(HashtblForceFind([&](const auto&x_2061){return x_2061;}(UnSome(ListLast(x_2059.children))).var,"finished_intrinsic_height_sum"));}(),[&](){ReadMetric(x_2060);return [&](const auto&x_2067){return x_2067;}(HashtblForceFind([&](const auto&x_2065){return x_2065;}(UnSome(ListLast(x_2059.children))).var,"intrinsic_current_line_height"));}());}else{return VFloat(0.);};}auto var_modified_x_807(const auto&x_2069){return [&](const auto&x_2070){OptionMatch(x_2069.next,[&](const auto&x_2072){return Nil();},[&](const auto&x_2071){return Cons(x_2071,Nil());});MakeUnit();MakeUnit();if (IsNone(x_2069.next)){OptionMatch(x_2069.parent,[&](const auto&x_2075){return Nil();},[&](const auto&x_2074){return Cons(x_2074,Nil());});}else{Nil();MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_804(const auto&x_2077){return [&](const auto&x_2078){return plus((IsSome(x_2077.prev))?([&](){ReadMetric(x_2078);return [&](const auto&x_2081){return x_2081;}(HashtblForceFind([&](const auto&x_2079){return x_2079;}(UnSome(x_2077.prev)).var,"intrinsic_width_sum"));}()):(VFloat(0.)),[&](){ReadMetric(x_2078);return [&](const auto&x_2085){return x_2085;}(HashtblForceFind([&](const auto&x_2083){return x_2083;}(x_2077).var,"intrinsic_width_external"));}());};}auto var_modified_x_802(const auto&x_2087){return [&](const auto&x_2088){if (IsNone(x_2087.next)){OptionMatch(x_2087.parent,[&](const auto&x_2090){return Nil();},[&](const auto&x_2089){return Cons(x_2089,Nil());});}else{Nil();OptionMatch(x_2087.next,[&](const auto&x_2093){return Nil();},[&](const auto&x_2092){return Cons(x_2092,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_799(const auto&x_2095){return [&](const auto&x_2096){return max([&](){ReadMetric(x_2096);return [&](const auto&x_2099){return x_2099;}(HashtblForceFind([&](const auto&x_2097){return x_2097;}(x_2095).var,"intrinsic_current_line_width"));}(),(IsSome(x_2095.prev))?([&](){ReadMetric(x_2096);return [&](const auto&x_2103){return x_2103;}(HashtblForceFind([&](const auto&x_2101){return x_2101;}(UnSome(x_2095.prev)).var,"intrinsic_width_max"));}()):(VFloat(0.)));};}auto var_modified_x_797(const auto&x_2105){return [&](const auto&x_2106){OptionMatch(x_2105.next,[&](const auto&x_2108){return Nil();},[&](const auto&x_2107){return Cons(x_2107,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_794(const auto&x_2111){return [&](const auto&x_2112){return plus([&](){ReadMetric(x_2112);return [&](const auto&x_2115){return x_2115;}(HashtblForceFind([&](const auto&x_2113){return x_2113;}(x_2111).var,"intrinsic_width_external"));}(),(BoolOfValue((IsSome(x_2111.prev))?(not([&](){ReadMetric(x_2112);return [&](const auto&x_2119){return x_2119;}(HashtblForceFind([&](const auto&x_2117){return x_2117;}(UnSome(x_2111.prev)).var,"line_break"));}())):(VBool(false))))?([&](){ReadMetric(x_2112);return [&](const auto&x_2123){return x_2123;}(HashtblForceFind([&](const auto&x_2121){return x_2121;}(UnSome(x_2111.prev)).var,"intrinsic_current_line_width"));}()):(VFloat(0.)));};}auto var_modified_x_792(const auto&x_2125){return [&](const auto&x_2126){return MakeUnit();};}auto eval_expr_x_789(const auto&x_2129){return [&](const auto&x_2130){if (BoolOfValue(eq([&](){ReadMetric(x_2130);return [&](const auto&x_2133){return x_2133;}(HashtblForceFind([&](const auto&x_2131){return x_2131;}(x_2129).var,"position"));}(),VString("absolute")))){return VFloat(0.);}else{ReadMetric(x_2130);return [&](const auto&x_2137){return x_2137;}(HashtblForceFind([&](const auto&x_2135){return x_2135;}(x_2129).var,"intrinsic_width_internal"));};}auto var_modified_x_787(const auto&x_2139){return [&](const auto&x_2140){return MakeUnit();};}auto eval_expr_x_784(const auto&x_2145){return [&](const auto&x_2146){if (BoolOfValue(eq([&](){ReadMetric(x_2146);return [&](const auto&x_2149){return x_2149;}(HashtblForceFind([&](const auto&x_2147){return x_2147;}(x_2145).var,"display"));}(),VString("none")))){return VFloat(0.);}else{if (BoolOfValue([&](){ReadMetric(x_2146);return [&](const auto&x_2153){return x_2153;}(HashtblForceFind([&](const auto&x_2151){return x_2151;}(x_2145).var,"inside_svg"));}())){return VFloat(0.);}else{if (BoolOfValue([&](){ReadMetric(x_2146);return [&](const auto&x_2157){return x_2157;}(HashtblForceFind([&](const auto&x_2155){return x_2155;}(x_2145).var,"disabled"));}())){return VFloat(0.);}else{if (BoolOfValue((BoolOfValue(neq([&](){ReadMetric(x_2146);return [&](const auto&x_2161){return x_2161;}(HashtblForceFind([&](const auto&x_2159){return x_2159;}(x_2145).var,"width_expr"));}(),VString("auto"))))?((BoolOfValue(not(has_suffix([&](){ReadMetric(x_2146);return [&](const auto&x_2165){return x_2165;}(HashtblForceFind([&](const auto&x_2163){return x_2163;}(x_2145).var,"width_expr"));}(),VString("%")))))?((BoolOfValue(neq([&](){ReadMetric(x_2146);return [&](const auto&x_2169){return x_2169;}(HashtblForceFind([&](const auto&x_2167){return x_2167;}(x_2145).var,"width_expr"));}(),VString("fit-content"))))?((BoolOfValue(neq([&](){ReadMetric(x_2146);return [&](const auto&x_2173){return x_2173;}(HashtblForceFind([&](const auto&x_2171){return x_2171;}(x_2145).var,"width_expr"));}(),VString("max-content"))))?(not(has_prefix([&](){ReadMetric(x_2146);return [&](const auto&x_2177){return x_2177;}(HashtblForceFind([&](const auto&x_2175){return x_2175;}(x_2145).var,"width_expr"));}(),VString("calc")))):(VBool(false))):(VBool(false))):(VBool(false))):(VBool(false)))){if (BoolOfValue(has_suffix([&](){ReadMetric(x_2146);return [&](const auto&x_2281){return x_2281;}(HashtblForceFind([&](const auto&x_2279){return x_2279;}(x_2145).var,"width_expr"));}(),VString("px")))){return string_to_float(strip_suffix([&](){ReadMetric(x_2146);return [&](const auto&x_2297){return x_2297;}(HashtblForceFind([&](const auto&x_2295){return x_2295;}(x_2145).var,"width_expr"));}(),VString("px")));}else{if (BoolOfValue(has_suffix([&](){ReadMetric(x_2146);return [&](const auto&x_2285){return x_2285;}(HashtblForceFind([&](const auto&x_2283){return x_2283;}(x_2145).var,"width_expr"));}(),VString("ch")))){return string_to_float(strip_suffix([&](){ReadMetric(x_2146);return [&](const auto&x_2293){return x_2293;}(HashtblForceFind([&](const auto&x_2291){return x_2291;}(x_2145).var,"width_expr"));}(),VString("ch")));}else{return Panic();}else{return plus([&](){ReadMetric(x_2146);return [&](const auto&x_2181){return x_2181;}(HashtblForceFind([&](const auto&x_2179){return x_2179;}(x_2145).var,"children_intrinsic_width"));}(),(StringEqual(x_2145.name,"#text"))?((IsSome(ListHead(x_2145.children)))?(Panic()):(VFloat(100.))):((BoolOfValue([&](){ReadMetric(x_2146);return [&](const auto&x_2185){return x_2185;}(HashtblForceFind([&](const auto&x_2183){return x_2183;}(x_2145).var,"is_default_case"));}()))?(VFloat(0.)):((StringEqual(x_2145.name,"BR"))?((IsSome(ListHead(x_2145.children)))?(Panic()):(VFloat(0.))):((StringEqual(x_2145.name,"INPUT"))?(VFloat(100.)):((StringEqual(x_2145.name,"svg"))?((BoolOfValue((BoolOfValue([&](){ReadMetric(x_2146);return [&](const auto&x_2245){return x_2245;}(HashtblForceFind([&](const auto&x_2243){return x_2243;}(x_2145).var,"has_width_attr"));}()))?(string_is_float([&](){ReadMetric(x_2146);return [&](const auto&x_2249){return x_2249;}(HashtblForceFind([&](const auto&x_2247){return x_2247;}(x_2145).var,"width_attr_expr"));}())):(VBool(false))))?(string_to_float([&](){ReadMetric(x_2146);return [&](const auto&x_2277){return x_2277;}(HashtblForceFind([&](const auto&x_2275){return x_2275;}(x_2145).var,"width_attr_expr"));}())):((BoolOfValue((BoolOfValue(not([&](){ReadMetric(x_2146);return [&](const auto&x_2253){return x_2253;}(HashtblForceFind([&](const auto&x_2251){return x_2251;}(x_2145).var,"has_width_attr"));}())))?(VBool(IsSome(HashtblFind(x_2145.attr,"viewBox")))):(VBool(false))))?(string_to_float(nth_by_sep([&](){ReadMetric(x_2146);return [&](const auto&x_2273){return x_2273;}(HashtblForceFind(x_2145.attr,"viewBox"));}(),VString(" "),VInt(2)))):((BoolOfValue((BoolOfValue([&](){ReadMetric(x_2146);return [&](const auto&x_2257){return x_2257;}(HashtblForceFind([&](const auto&x_2255){return x_2255;}(x_2145).var,"has_width_attr"));}()))?((BoolOfValue(has_suffix([&](){ReadMetric(x_2146);return [&](const auto&x_2261){return x_2261;}(HashtblForceFind([&](const auto&x_2259){return x_2259;}(x_2145).var,"width_attr_expr"));}(),VString("%"))))?(VBool(IsSome(HashtblFind(x_2145.attr,"viewBox")))):(VBool(false))):(VBool(false))))?(mult(string_to_float(nth_by_sep([&](){ReadMetric(x_2146);return [&](const auto&x_2267){return x_2267;}(HashtblForceFind(x_2145.attr,"viewBox"));}(),VString(" "),VInt(2))),divide(string_to_float(strip_suffix([&](){ReadMetric(x_2146);return [&](const auto&x_2271){return x_2271;}(HashtblForceFind([&](const auto&x_2269){return x_2269;}(x_2145).var,"width_attr_expr"));}(),VString("%"))),VFloat(100.)))):(Panic())))):((StringEqual(x_2145.name,"IMG"))?((BoolOfValue([&](){ReadMetric(x_2146);return [&](const auto&x_2205){return x_2205;}(HashtblForceFind([&](const auto&x_2203){return x_2203;}(x_2145).var,"has_width_attr"));}()))?(string_to_float([&](){ReadMetric(x_2146);return [&](const auto&x_2241){return x_2241;}(HashtblForceFind([&](const auto&x_2239){return x_2239;}(x_2145).var,"width_attr_expr"));}())):((BoolOfValue((IsSome(HashtblFind(x_2145.attr,"image_width")))?(not([&](){ReadMetric(x_2146);return [&](const auto&x_2209){return x_2209;}(HashtblForceFind([&](const auto&x_2207){return x_2207;}(x_2145).var,"has_height_attr"));}())):(VBool(false))))?(int_to_float([&](){ReadMetric(x_2146);return [&](const auto&x_2237){return x_2237;}(HashtblForceFind(x_2145.attr,"image_width"));}())):((BoolOfValue((BoolOfValue(not([&](){ReadMetric(x_2146);return [&](const auto&x_2213){return x_2213;}(HashtblForceFind([&](const auto&x_2211){return x_2211;}(x_2145).var,"has_width_attr"));}())))?((BoolOfValue([&](){ReadMetric(x_2146);return [&](const auto&x_2217){return x_2217;}(HashtblForceFind([&](const auto&x_2215){return x_2215;}(x_2145).var,"has_height_attr"));}()))?((IsSome(HashtblFind(x_2145.attr,"image_width")))?(VBool(IsSome(HashtblFind(x_2145.attr,"image_height")))):(VBool(false))):(VBool(false))):(VBool(false))))?((BoolOfValue(neq([&](){ReadMetric(x_2146);return [&](const auto&x_2227){return x_2227;}(HashtblForceFind(x_2145.attr,"image_height"));}(),VInt(0))))?(mult(string_to_float([&](){ReadMetric(x_2146);return [&](const auto&x_2231){return x_2231;}(HashtblForceFind([&](const auto&x_2229){return x_2229;}(x_2145).var,"height_attr_expr"));}()),divide(int_to_float([&](){ReadMetric(x_2146);return [&](const auto&x_2233){return x_2233;}(HashtblForceFind(x_2145.attr,"image_width"));}()),int_to_float([&](){ReadMetric(x_2146);return [&](const auto&x_2235){return x_2235;}(HashtblForceFind(x_2145.attr,"image_height"));}())))):(VFloat(0.))):(Panic())))):((StringEqual(x_2145.name,"IFRAME"))?((BoolOfValue([&](){ReadMetric(x_2146);return [&](const auto&x_2197){return x_2197;}(HashtblForceFind([&](const auto&x_2195){return x_2195;}(x_2145).var,"has_width_attr"));}()))?(Panic()):(VFloat(300.))):((StringEqual(x_2145.name,"TEXTAREA"))?(VFloat(100.)):((StringEqual(x_2145.name,"VIDEO"))?((BoolOfValue([&](){ReadMetric(x_2146);return [&](const auto&x_2189){return x_2189;}(HashtblForceFind([&](const auto&x_2187){return x_2187;}(x_2145).var,"has_width_attr"));}()))?(Panic()):(VFloat(300.))):(Panic()))))))))));};}auto var_modified_x_782(const auto&x_2299){return [&](const auto&x_2300){return MakeUnit();};}auto eval_expr_x_779(const auto&x_2302){return [&](const auto&x_2303){if (IsSome(ListLast(x_2302.children))){ReadMetric(x_2303);return [&](const auto&x_2306){return x_2306;}(HashtblForceFind([&](const auto&x_2304){return x_2304;}(UnSome(ListLast(x_2302.children))).var,"intrinsic_width_max"));}else{return VFloat(0.);};}auto var_modified_x_777(const auto&x_2308){return [&](const auto&x_2309){return MakeUnit();};}auto eval_expr_x_774(const auto&x_2311){return [&](const auto&x_2312){if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_2312);return [&](const auto&x_2315){return x_2315;}(HashtblForceFind([&](const auto&x_2313){return x_2313;}(x_2311).var,"display"));}(),VString("none"))))?(VBool(true)):((BoolOfValue([&](){ReadMetric(x_2312);return [&](const auto&x_2319){return x_2319;}(HashtblForceFind([&](const auto&x_2317){return x_2317;}(x_2311).var,"inside_svg"));}()))?(VBool(true)):([&](){ReadMetric(x_2312);return [&](const auto&x_2323){return x_2323;}(HashtblForceFind([&](const auto&x_2321){return x_2321;}(x_2311).var,"disabled"));}())))){return VBool(true);}else{if (BoolOfValue((IsSome(x_2311.parent))?([&](){ReadMetric(x_2312);return [&](const auto&x_2327){return x_2327;}(HashtblForceFind([&](const auto&x_2325){return x_2325;}(UnSome(x_2311.parent)).var,"is_flex_row"));}()):(VBool(false)))){return VBool(false);}else{if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_2312);return [&](const auto&x_2331){return x_2331;}(HashtblForceFind([&](const auto&x_2329){return x_2329;}(x_2311).var,"width_expr"));}(),VString("auto"))))?(VBool(true)):((BoolOfValue(has_suffix([&](){ReadMetric(x_2312);return [&](const auto&x_2335){return x_2335;}(HashtblForceFind([&](const auto&x_2333){return x_2333;}(x_2311).var,"width_expr"));}(),VString("px"))))?(VBool(true)):((BoolOfValue(has_suffix([&](){ReadMetric(x_2312);return [&](const auto&x_2339){return x_2339;}(HashtblForceFind([&](const auto&x_2337){return x_2337;}(x_2311).var,"width_expr"));}(),VString("ch"))))?(VBool(true)):((BoolOfValue(has_prefix([&](){ReadMetric(x_2312);return [&](const auto&x_2343){return x_2343;}(HashtblForceFind([&](const auto&x_2341){return x_2341;}(x_2311).var,"width_expr"));}(),VString("calc("))))?(VBool(true)):(eq([&](){ReadMetric(x_2312);return [&](const auto&x_2347){return x_2347;}(HashtblForceFind([&](const auto&x_2345){return x_2345;}(x_2311).var,"width_expr"));}(),VString("max-content")))))))){return VBool(true);}else{if (BoolOfValue((BoolOfValue(has_suffix([&](){ReadMetric(x_2312);return [&](const auto&x_2351){return x_2351;}(HashtblForceFind([&](const auto&x_2349){return x_2349;}(x_2311).var,"width_expr"));}(),VString("%"))))?(VBool(true)):(eq([&](){ReadMetric(x_2312);return [&](const auto&x_2355){return x_2355;}(HashtblForceFind([&](const auto&x_2353){return x_2353;}(x_2311).var,"width_expr"));}(),VString("fit-content"))))){return VBool(false);}else{return Panic();};}auto var_modified_x_772(const auto&x_2361){return [&](const auto&x_2362){return MakeUnit();};}auto eval_expr_x_769(const auto&x_2365){return [&](const auto&x_2366){if (BoolOfValue(eq([&](){ReadMetric(x_2366);return [&](const auto&x_2369){return x_2369;}(HashtblForceFind([&](const auto&x_2367){return x_2367;}(x_2365).var,"display"));}(),VString("none")))){return VBool(true);}else{if (BoolOfValue([&](){ReadMetric(x_2366);return [&](const auto&x_2373){return x_2373;}(HashtblForceFind([&](const auto&x_2371){return x_2371;}(x_2365).var,"inside_svg"));}())){return VBool(true);}else{if (BoolOfValue([&](){ReadMetric(x_2366);return [&](const auto&x_2377){return x_2377;}(HashtblForceFind([&](const auto&x_2375){return x_2375;}(x_2365).var,"disabled"));}())){return VBool(true);}else{if (BoolOfValue((StringEqual(x_2365.name,"#document"))?(VBool(true)):((StringEqual(x_2365.name,"#shadow-root"))?(VBool(true)):((StringEqual(x_2365.name,"DIV"))?(VBool(true)):((StringEqual(x_2365.name,"HTML"))?(VBool(true)):((StringEqual(x_2365.name,"BODY"))?(VBool(true)):((StringEqual(x_2365.name,"BUTTON"))?(VBool(true)):((StringEqual(x_2365.name,"FOOTER"))?(VBool(true)):((StringEqual(x_2365.name,"SELECT"))?(VBool(true)):((StringEqual(x_2365.name,"SECTION"))?(VBool(true)):((StringEqual(x_2365.name,"FORM"))?(VBool(true)):((StringEqual(x_2365.name,"CENTER"))?(VBool(true)):((StringEqual(x_2365.name,"TD"))?(VBool(true)):((StringEqual(x_2365.name,"TR"))?(VBool(true)):((StringEqual(x_2365.name,"TBODY"))?(VBool(true)):((StringEqual(x_2365.name,"TABLE"))?(VBool(true)):((StringEqual(x_2365.name,"SPAN"))?(VBool(true)):((StringEqual(x_2365.name,"FONT"))?(VBool(true)):((StringEqual(x_2365.name,"A"))?(VBool(true)):((StringEqual(x_2365.name,"ARTICLE"))?(VBool(true)):((StringEqual(x_2365.name,"P"))?(VBool(true)):((StringEqual(x_2365.name,"U"))?(VBool(true)):((StringEqual(x_2365.name,"UL"))?(VBool(true)):((StringEqual(x_2365.name,"B"))?(VBool(true)):((StringEqual(x_2365.name,"H1"))?(VBool(true)):((StringEqual(x_2365.name,"H2"))?(VBool(true)):((StringEqual(x_2365.name,"H3"))?(VBool(true)):((StringEqual(x_2365.name,"H4"))?(VBool(true)):((StringEqual(x_2365.name,"DT"))?(VBool(true)):((StringEqual(x_2365.name,"DD"))?(VBool(true)):((StringEqual(x_2365.name,"DL"))?(VBool(true)):((StringEqual(x_2365.name,"LI"))?(VBool(true)):((StringEqual(x_2365.name,"LABEL"))?(VBool(true)):((StringEqual(x_2365.name,"OL"))?(VBool(true)):((StringEqual(x_2365.name,"NAV"))?(VBool(true)):((StringEqual(x_2365.name,"HEADER"))?(VBool(true)):((StringEqual(x_2365.name,"HEAD"))?(VBool(true)):((StringEqual(x_2365.name,"SOURCE"))?(VBool(true)):((StringEqual(x_2365.name,"PICTURE"))?(VBool(true)):((StringEqual(x_2365.name,"FIGURE"))?(VBool(true)):((StringEqual(x_2365.name,"FIGCAPTION"))?(VBool(true)):((StringEqual(x_2365.name,"MAIN"))?(VBool(true)):((StringEqual(x_2365.name,"REACT-PARTIAL"))?(VBool(true)):((StringEqual(x_2365.name,"QUERY-BUILDER"))?(VBool(true)):((StringEqual(x_2365.name,"MODAL-DIALOG"))?(VBool(true)):((StringEqual(x_2365.name,"SCROLLABLE-REGION"))?(VBool(true)):((StringEqual(x_2365.name,"DIALOG-HELPER"))?(VBool(true)):((StringEqual(x_2365.name,"AUTO-CHECK"))?(VBool(true)):((StringEqual(x_2365.name,"TOOL-TIP"))?(VBool(true)):((StringEqual(x_2365.name,"CUSTOM-SCOPES"))?(VBool(true)):((StringEqual(x_2365.name,"QBSEARCH-INPUT"))?(VBool(true)):((StringEqual(x_2365.name,"INCLUDE-FRAGMENT"))?(VBool(true)):((StringEqual(x_2365.name,"COOKIE-CONSENT-LINK"))?(VBool(true)):((StringEqual(x_2365.name,"FULLSTORY-CAPTURE"))?(VBool(true)):((StringEqual(x_2365.name,"GHCC-CONSENT"))?(VBool(true)):((StringEqual(x_2365.name,"GLOBAL-BANNER"))?(VBool(true)):((StringEqual(x_2365.name,"ACTIVE-GLOBAL-BANNERS"))?(VBool(true)):((StringEqual(x_2365.name,"CARD-SKEW"))?(VBool(true)):((StringEqual(x_2365.name,"EM"))?(VBool(true)):((StringEqual(x_2365.name,"ASIDE"))?(VBool(true)):((StringEqual(x_2365.name,"AUDIO"))?(VBool(true)):((StringEqual(x_2365.name,"SUP"))?(VBool(true)):((StringEqual(x_2365.name,"TIME"))?(VBool(true)):((StringEqual(x_2365.name,"ABBR"))?(VBool(true)):((StringEqual(x_2365.name,"SMALL"))?(VBool(true)):((StringEqual(x_2365.name,"SLOT"))?(VBool(true)):(eq(VString(x_2365.name),VString("I"))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))){return VBool(true);}else{if (BoolOfValue((StringEqual(x_2365.name,"#text"))?(VBool(true)):((StringEqual(x_2365.name,"svg"))?(VBool(true)):((StringEqual(x_2365.name,"IFRAME"))?(VBool(true)):((StringEqual(x_2365.name,"INPUT"))?(VBool(true)):((StringEqual(x_2365.name,"VIDEO"))?(VBool(true)):((StringEqual(x_2365.name,"BR"))?(VBool(true)):((StringEqual(x_2365.name,"IMG"))?(VBool(true)):(eq(VString(x_2365.name),VString("TEXTAREA"))))))))))){return VBool(false);}else{return Panic();};}auto var_modified_x_767(const auto&x_2379){return [&](const auto&x_2380){return MakeUnit();};}auto eval_expr_x_764(const auto&x_2400){return [&](const auto&x_2401){if (IsSome(HashtblFind(x_2400.prop,"width"))){ReadMetric(x_2401);return [&](const auto&x_2402){return x_2402;}(HashtblForceFind(x_2400.prop,"width"));}else{return VString("auto");};}auto var_modified_x_760(const auto&x_2404){return [&](const auto&x_2405){OptionMatch(x_2404.next,[&](const auto&x_2407){return Nil();},[&](const auto&x_2406){return Cons(x_2406,Nil());});OptionMatch(x_2404.next,[&](const auto&x_2410){return Nil();},[&](const auto&x_2409){return Cons(x_2409,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_757(const auto&x_2412){return [&](const auto&x_2413){if (BoolOfValue((IsSome(x_2412.prev))?(not([&](){ReadMetric(x_2413);return [&](const auto&x_2416){return x_2416;}(HashtblForceFind([&](const auto&x_2414){return x_2414;}(UnSome(x_2412.prev)).var,"line_break"));}())):(VBool(false)))){return max([&](){ReadMetric(x_2413);return [&](const auto&x_2424){return x_2424;}(HashtblForceFind([&](const auto&x_2422){return x_2422;}(x_2412).var,"height_external"));}(),[&](){ReadMetric(x_2413);return [&](const auto&x_2428){return x_2428;}(HashtblForceFind([&](const auto&x_2426){return x_2426;}(UnSome(x_2412.prev)).var,"line_height"));}());}else{ReadMetric(x_2413);return [&](const auto&x_2420){return x_2420;}(HashtblForceFind([&](const auto&x_2418){return x_2418;}(x_2412).var,"height_external"));};}auto var_modified_x_755(const auto&x_2430){return [&](const auto&x_2431){return MakeUnit();};}auto eval_expr_x_752(const auto&x_2434){return [&](const auto&x_2435){if (BoolOfValue(eq([&](){ReadMetric(x_2435);return [&](const auto&x_2438){return x_2438;}(HashtblForceFind([&](const auto&x_2436){return x_2436;}(x_2434).var,"position"));}(),VString("absolute")))){return VFloat(0.);}else{ReadMetric(x_2435);return [&](const auto&x_2442){return x_2442;}(HashtblForceFind([&](const auto&x_2440){return x_2440;}(x_2434).var,"height_internal"));};}auto var_modified_x_750(const auto&x_2444){return [&](const auto&x_2445){return MakeUnit();};}auto eval_expr_x_747(const auto&x_2448){return [&](const auto&x_2449){if (BoolOfValue([&](){ReadMetric(x_2449);return [&](const auto&x_2452){return x_2452;}(HashtblForceFind([&](const auto&x_2450){return x_2450;}(x_2448).var,"intrinsic_height_is_height"));}())){ReadMetric(x_2449);return [&](const auto&x_2500){return x_2500;}(HashtblForceFind([&](const auto&x_2498){return x_2498;}(x_2448).var,"intrinsic_height_internal"));}else{if (BoolOfValue((IsSome(x_2448.parent))?([&](){ReadMetric(x_2449);return [&](const auto&x_2456){return x_2456;}(HashtblForceFind([&](const auto&x_2454){return x_2454;}(UnSome(x_2448.parent)).var,"is_flex_column"));}()):(VBool(false)))){return plus([&](){ReadMetric(x_2449);return [&](const auto&x_2488){return x_2488;}(HashtblForceFind([&](const auto&x_2486){return x_2486;}(x_2448).var,"intrinsic_height_internal"));}(),mult([&](){ReadMetric(x_2449);return [&](const auto&x_2492){return x_2492;}(HashtblForceFind([&](const auto&x_2490){return x_2490;}(x_2448).var,"flex_amount"));}(),[&](){ReadMetric(x_2449);return [&](const auto&x_2496){return x_2496;}(HashtblForceFind([&](const auto&x_2494){return x_2494;}(UnSome(x_2448.parent)).var,"flex_unit"));}()));}else{if (BoolOfValue(has_suffix([&](){ReadMetric(x_2449);return [&](const auto&x_2460){return x_2460;}(HashtblForceFind([&](const auto&x_2458){return x_2458;}(x_2448).var,"height_expr"));}(),VString("%")))){return mult([&](){ReadMetric(x_2449);return [&](const auto&x_2480){return x_2480;}(HashtblForceFind([&](const auto&x_2478){return x_2478;}(x_2448).var,"box_height"));}(),divide(string_to_float(strip_suffix([&](){ReadMetric(x_2449);return [&](const auto&x_2484){return x_2484;}(HashtblForceFind([&](const auto&x_2482){return x_2482;}(x_2448).var,"height_expr"));}(),VString("%"))),VFloat(100.)));}else{if (BoolOfValue(eq([&](){ReadMetric(x_2449);return [&](const auto&x_2464){return x_2464;}(HashtblForceFind([&](const auto&x_2462){return x_2462;}(x_2448).var,"height_expr"));}(),VString("fit-content")))){return max([&](){ReadMetric(x_2449);return [&](const auto&x_2472){return x_2472;}(HashtblForceFind([&](const auto&x_2470){return x_2470;}(x_2448).var,"box_height"));}(),[&](){ReadMetric(x_2449);return [&](const auto&x_2476){return x_2476;}(HashtblForceFind([&](const auto&x_2474){return x_2474;}(x_2448).var,"intrinsic_height_internal"));}());}else{return Panic();};}auto var_modified_x_745(const auto&x_2502){return [&](const auto&x_2503){OptionMatch(x_2502.next,[&](const auto&x_2505){return Nil();},[&](const auto&x_2504){return Cons(x_2504,Nil());});OptionMatch(x_2502.next,[&](const auto&x_2508){return Nil();},[&](const auto&x_2507){return Cons(x_2507,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_742(const auto&x_2511){return [&](const auto&x_2512){if (IsSome(x_2511.prev)){if (BoolOfValue((BoolOfValue([&](){ReadMetric(x_2512);return [&](const auto&x_2519){return x_2519;}(HashtblForceFind([&](const auto&x_2517){return x_2517;}(x_2511).var,"line_break"));}()))?(VBool(true)):([&](){ReadMetric(x_2512);return [&](const auto&x_2523){return x_2523;}(HashtblForceFind([&](const auto&x_2521){return x_2521;}(UnSome(x_2511.prev)).var,"line_break"));}()))){return plus([&](){ReadMetric(x_2512);return [&](const auto&x_2531){return x_2531;}(HashtblForceFind([&](const auto&x_2529){return x_2529;}(UnSome(x_2511.prev)).var,"y"));}(),[&](){ReadMetric(x_2512);return [&](const auto&x_2535){return x_2535;}(HashtblForceFind([&](const auto&x_2533){return x_2533;}(UnSome(x_2511.prev)).var,"line_height"));}());}else{ReadMetric(x_2512);return [&](const auto&x_2527){return x_2527;}(HashtblForceFind([&](const auto&x_2525){return x_2525;}(UnSome(x_2511.prev)).var,"y"));}else{if (IsSome(x_2511.parent)){ReadMetric(x_2512);return [&](const auto&x_2515){return x_2515;}(HashtblForceFind([&](const auto&x_2513){return x_2513;}(UnSome(x_2511.parent)).var,"y"));}else{return VFloat(0.);};}auto var_modified_x_740(const auto&x_2537){return [&](const auto&x_2538){OptionMatch(x_2537.next,[&](const auto&x_2540){return Nil();},[&](const auto&x_2539){return Cons(x_2539,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_737(const auto&x_2542){return [&](const auto&x_2543){if (BoolOfValue(eq([&](){ReadMetric(x_2543);return [&](const auto&x_2546){return x_2546;}(HashtblForceFind([&](const auto&x_2544){return x_2544;}(x_2542).var,"position"));}(),VString("absolute")))){return VFloat(0.);}else{ReadMetric(x_2543);return [&](const auto&x_2550){return x_2550;}(HashtblForceFind([&](const auto&x_2548){return x_2548;}(x_2542).var,"width_internal"));};}auto var_modified_x_735(const auto&x_2552){return [&](const auto&x_2553){return MakeUnit();};}auto eval_expr_x_732(const auto&x_2556){return [&](const auto&x_2557){if (BoolOfValue([&](){ReadMetric(x_2557);return [&](const auto&x_2560){return x_2560;}(HashtblForceFind([&](const auto&x_2558){return x_2558;}(x_2556).var,"intrinsic_width_is_width"));}())){ReadMetric(x_2557);return [&](const auto&x_2608){return x_2608;}(HashtblForceFind([&](const auto&x_2606){return x_2606;}(x_2556).var,"intrinsic_width_internal"));}else{if (BoolOfValue((IsSome(x_2556.parent))?([&](){ReadMetric(x_2557);return [&](const auto&x_2564){return x_2564;}(HashtblForceFind([&](const auto&x_2562){return x_2562;}(UnSome(x_2556.parent)).var,"is_flex_row"));}()):(VBool(false)))){return plus([&](){ReadMetric(x_2557);return [&](const auto&x_2596){return x_2596;}(HashtblForceFind([&](const auto&x_2594){return x_2594;}(x_2556).var,"intrinsic_width_internal"));}(),mult([&](){ReadMetric(x_2557);return [&](const auto&x_2600){return x_2600;}(HashtblForceFind([&](const auto&x_2598){return x_2598;}(x_2556).var,"flex_amount"));}(),[&](){ReadMetric(x_2557);return [&](const auto&x_2604){return x_2604;}(HashtblForceFind([&](const auto&x_2602){return x_2602;}(UnSome(x_2556.parent)).var,"flex_unit"));}()));}else{if (BoolOfValue(has_suffix([&](){ReadMetric(x_2557);return [&](const auto&x_2568){return x_2568;}(HashtblForceFind([&](const auto&x_2566){return x_2566;}(x_2556).var,"width_expr"));}(),VString("%")))){return mult([&](){ReadMetric(x_2557);return [&](const auto&x_2588){return x_2588;}(HashtblForceFind([&](const auto&x_2586){return x_2586;}(x_2556).var,"box_width"));}(),divide(string_to_float(strip_suffix([&](){ReadMetric(x_2557);return [&](const auto&x_2592){return x_2592;}(HashtblForceFind([&](const auto&x_2590){return x_2590;}(x_2556).var,"width_expr"));}(),VString("%"))),VFloat(100.)));}else{if (BoolOfValue(eq([&](){ReadMetric(x_2557);return [&](const auto&x_2572){return x_2572;}(HashtblForceFind([&](const auto&x_2570){return x_2570;}(x_2556).var,"width_expr"));}(),VString("fit-content")))){return max([&](){ReadMetric(x_2557);return [&](const auto&x_2580){return x_2580;}(HashtblForceFind([&](const auto&x_2578){return x_2578;}(x_2556).var,"box_width"));}(),[&](){ReadMetric(x_2557);return [&](const auto&x_2584){return x_2584;}(HashtblForceFind([&](const auto&x_2582){return x_2582;}(x_2556).var,"intrinsic_width_internal"));}());}else{return Panic();};}auto var_modified_x_730(const auto&x_2610){return [&](const auto&x_2611){OptionMatch(x_2610.next,[&](const auto&x_2613){return Nil();},[&](const auto&x_2612){return Cons(x_2612,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_727(const auto&x_2616){return [&](const auto&x_2617){if (IsSome(x_2616.prev)){if (BoolOfValue((BoolOfValue([&](){ReadMetric(x_2617);return [&](const auto&x_2624){return x_2624;}(HashtblForceFind([&](const auto&x_2622){return x_2622;}(x_2616).var,"line_break"));}()))?(VBool(true)):([&](){ReadMetric(x_2617);return [&](const auto&x_2628){return x_2628;}(HashtblForceFind([&](const auto&x_2626){return x_2626;}(UnSome(x_2616.prev)).var,"line_break"));}()))){return VFloat(0.);}else{return plus([&](){ReadMetric(x_2617);return [&](const auto&x_2632){return x_2632;}(HashtblForceFind([&](const auto&x_2630){return x_2630;}(UnSome(x_2616.prev)).var,"x"));}(),[&](){ReadMetric(x_2617);return [&](const auto&x_2636){return x_2636;}(HashtblForceFind([&](const auto&x_2634){return x_2634;}(UnSome(x_2616.prev)).var,"width_external"));}());}else{if (IsSome(x_2616.parent)){ReadMetric(x_2617);return [&](const auto&x_2620){return x_2620;}(HashtblForceFind([&](const auto&x_2618){return x_2618;}(UnSome(x_2616.parent)).var,"x"));}else{return VFloat(0.);};}auto var_modified_x_725(const auto&x_2638){return [&](const auto&x_2639){return MakeUnit();};}auto eval_expr_x_722(const auto&x_2642){return [&](const auto&x_2643){if (BoolOfValue(gt([&](){ReadMetric(x_2643);return [&](const auto&x_2646){return x_2646;}(HashtblForceFind([&](const auto&x_2644){return x_2644;}(x_2642).var,"left_over"));}(),VFloat(0.)))){return divide([&](){ReadMetric(x_2643);return [&](const auto&x_2658){return x_2658;}(HashtblForceFind([&](const auto&x_2656){return x_2656;}(x_2642).var,"left_over"));}(),[&](){ReadMetric(x_2643);return [&](const auto&x_2662){return x_2662;}(HashtblForceFind([&](const auto&x_2660){return x_2660;}(x_2642).var,"flex_grow_sum"));}());}else{return divide([&](){ReadMetric(x_2643);return [&](const auto&x_2650){return x_2650;}(HashtblForceFind([&](const auto&x_2648){return x_2648;}(x_2642).var,"left_over"));}(),[&](){ReadMetric(x_2643);return [&](const auto&x_2654){return x_2654;}(HashtblForceFind([&](const auto&x_2652){return x_2652;}(x_2642).var,"flex_shrink_sum"));}());};}auto var_modified_x_720(const auto&x_2664){return [&](const auto&x_2665){return MakeUnit();};}auto eval_expr_x_717(const auto&x_2668){return [&](const auto&x_2669){if (BoolOfValue((IsSome(x_2668.parent))?(gt([&](){ReadMetric(x_2669);return [&](const auto&x_2672){return x_2672;}(HashtblForceFind([&](const auto&x_2670){return x_2670;}(UnSome(x_2668.parent)).var,"left_over"));}(),VFloat(0.))):(VBool(false)))){ReadMetric(x_2669);return [&](const auto&x_2680){return x_2680;}(HashtblForceFind([&](const auto&x_2678){return x_2678;}(x_2668).var,"flex_grow"));}else{ReadMetric(x_2669);return [&](const auto&x_2676){return x_2676;}(HashtblForceFind([&](const auto&x_2674){return x_2674;}(x_2668).var,"flex_shrink"));};}auto var_modified_x_715(const auto&x_2682){return [&](const auto&x_2683){return MakeUnit();};}auto eval_expr_x_712(const auto&x_2688){return [&](const auto&x_2689){if (BoolOfValue([&](){ReadMetric(x_2689);return [&](const auto&x_2692){return x_2692;}(HashtblForceFind([&](const auto&x_2690){return x_2690;}(x_2688).var,"is_flex_row"));}())){return minus([&](){ReadMetric(x_2689);return [&](const auto&x_2704){return x_2704;}(HashtblForceFind([&](const auto&x_2702){return x_2702;}(x_2688).var,"box_width"));}(),(IsSome(ListLast(x_2688.children)))?([&](){ReadMetric(x_2689);return [&](const auto&x_2708){return x_2708;}(HashtblForceFind([&](const auto&x_2706){return x_2706;}(UnSome(ListLast(x_2688.children))).var,"intrinsic_width_sum"));}()):(VFloat(0.)));}else{return minus([&](){ReadMetric(x_2689);return [&](const auto&x_2696){return x_2696;}(HashtblForceFind([&](const auto&x_2694){return x_2694;}(x_2688).var,"box_height"));}(),(IsSome(ListLast(x_2688.children)))?([&](){ReadMetric(x_2689);return [&](const auto&x_2700){return x_2700;}(HashtblForceFind([&](const auto&x_2698){return x_2698;}(UnSome(ListLast(x_2688.children))).var,"intrinsic_height_sum"));}()):(VFloat(0.)));};}auto var_modified_x_710(const auto&x_2710){return [&](const auto&x_2711){return MakeUnit();};}auto eval_expr_x_707(const auto&x_2715){return [&](const auto&x_2716){if (IsSome(x_2715.parent)){ReadMetric(x_2716);return [&](const auto&x_2719){return x_2719;}(HashtblForceFind([&](const auto&x_2717){return x_2717;}(UnSome(x_2715.parent)).var,"height_internal"));}else{return VFloat(1080.);};}auto var_modified_x_705(const auto&x_2721){return [&](const auto&x_2722){return MakeUnit();};}auto eval_expr_x_702(const auto&x_2726){return [&](const auto&x_2727){if (IsSome(x_2726.parent)){ReadMetric(x_2727);return [&](const auto&x_2730){return x_2730;}(HashtblForceFind([&](const auto&x_2728){return x_2728;}(UnSome(x_2726.parent)).var,"width_internal"));}else{return VFloat(1920.);};}auto var_modified_x_698(const auto&x_2732){return [&](const auto&x_2733){OptionMatch(x_2732.next,[&](const auto&x_2735){return Nil();},[&](const auto&x_2734){return Cons(x_2734,Nil());});MakeUnit();MakeUnit();OptionMatch(x_2732.next,[&](const auto&x_2742){return Nil();},[&](const auto&x_2741){return Cons(x_2741,Nil());});OptionMatch(x_2732.next,[&](const auto&x_2746){return Nil();},[&](const auto&x_2745){return Cons(x_2745,Nil());});OptionMatch(x_2732.next,[&](const auto&x_2749){return Nil();},[&](const auto&x_2748){return Cons(x_2748,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_695(const auto&x_2751){return [&](const auto&x_2752){if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2755){return x_2755;}(HashtblForceFind([&](const auto&x_2753){return x_2753;}(x_2751).var,"display"));}(),VString("none")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2759){return x_2759;}(HashtblForceFind([&](const auto&x_2757){return x_2757;}(x_2751).var,"position"));}(),VString("absolute")))){return VBool(false);}else{if (BoolOfValue((IsSome(x_2751.parent))?((BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2763){return x_2763;}(HashtblForceFind([&](const auto&x_2761){return x_2761;}(UnSome(x_2751.parent)).var,"display"));}(),VString("flex"))))?(VBool(true)):(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2767){return x_2767;}(HashtblForceFind([&](const auto&x_2765){return x_2765;}(UnSome(x_2751.parent)).var,"display"));}(),VString("inline-flex")))):(VBool(false)))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2771){return x_2771;}(HashtblForceFind([&](const auto&x_2769){return x_2769;}(x_2751).var,"display"));}(),VString("block")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2775){return x_2775;}(HashtblForceFind([&](const auto&x_2773){return x_2773;}(x_2751).var,"display"));}(),VString("inline")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2779){return x_2779;}(HashtblForceFind([&](const auto&x_2777){return x_2777;}(x_2751).var,"display"));}(),VString("inline-block")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2783){return x_2783;}(HashtblForceFind([&](const auto&x_2781){return x_2781;}(x_2751).var,"display"));}(),VString("flex")))){if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2821){return x_2821;}(HashtblForceFind(x_2751.prop,"flex-direction"));}(),VString("row")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2823){return x_2823;}(HashtblForceFind(x_2751.prop,"flex-direction"));}(),VString("column")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2825){return x_2825;}(HashtblForceFind(x_2751.prop,"flex-direction"));}(),VString("column-reverse")))){return VBool(true);}else{return Panic();}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2787){return x_2787;}(HashtblForceFind([&](const auto&x_2785){return x_2785;}(x_2751).var,"display"));}(),VString("inline-flex")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2791){return x_2791;}(HashtblForceFind([&](const auto&x_2789){return x_2789;}(x_2751).var,"display"));}(),VString("contents")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2795){return x_2795;}(HashtblForceFind([&](const auto&x_2793){return x_2793;}(x_2751).var,"display"));}(),VString("table")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2799){return x_2799;}(HashtblForceFind([&](const auto&x_2797){return x_2797;}(x_2751).var,"display"));}(),VString("table-row-group")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2803){return x_2803;}(HashtblForceFind([&](const auto&x_2801){return x_2801;}(x_2751).var,"display"));}(),VString("table-row")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2807){return x_2807;}(HashtblForceFind([&](const auto&x_2805){return x_2805;}(x_2751).var,"display"));}(),VString("table-cell")))){return VBool(false);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2811){return x_2811;}(HashtblForceFind([&](const auto&x_2809){return x_2809;}(x_2751).var,"display"));}(),VString("list-item")))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2752);return [&](const auto&x_2815){return x_2815;}(HashtblForceFind([&](const auto&x_2813){return x_2813;}(x_2751).var,"display"));}(),VString("grid")))){return VBool(true);}else{return Panic();};}auto var_modified_x_693(const auto&x_2829){return [&](const auto&x_2830){return MakeUnit();};}auto eval_expr_x_690(const auto&x_2832){return [&](const auto&x_2833){if (BoolOfValue((BoolOfValue(not(VBool(IsSome(x_2832.parent)))))?(VBool(true)):([&](){ReadMetric(x_2833);return [&](const auto&x_2836){return x_2836;}(HashtblForceFind([&](const auto&x_2834){return x_2834;}(UnSome(x_2832.parent)).var,"visible"));}()))){if (BoolOfValue(neq([&](){ReadMetric(x_2833);return [&](const auto&x_2840){return x_2840;}(HashtblForceFind([&](const auto&x_2838){return x_2838;}(x_2832).var,"display"));}(),VString("none")))){if (BoolOfValue(not([&](){ReadMetric(x_2833);return [&](const auto&x_2844){return x_2844;}(HashtblForceFind([&](const auto&x_2842){return x_2842;}(x_2832).var,"inside_svg"));}()))){return not([&](){ReadMetric(x_2833);return [&](const auto&x_2848){return x_2848;}(HashtblForceFind([&](const auto&x_2846){return x_2846;}(x_2832).var,"disabled"));}());}else{return VBool(false);}else{return VBool(false);}else{return VBool(false);};}auto var_modified_x_688(const auto&x_2850){return [&](const auto&x_2851){return MakeUnit();};}auto eval_expr_x_685(const auto&x_2859){return [&](const auto&x_2860){if (StringEqual(x_2859.name,"NOSCRIPT")){return VBool(true);}else{if (IsSome(x_2859.parent)){ReadMetric(x_2860);return [&](const auto&x_2863){return x_2863;}(HashtblForceFind([&](const auto&x_2861){return x_2861;}(UnSome(x_2859.parent)).var,"disabled"));}else{return VBool(false);};}auto var_modified_x_683(const auto&x_2865){return [&](const auto&x_2866){return MakeUnit();};}auto eval_expr_x_680(const auto&x_2874){return [&](const auto&x_2875){if (IsSome(x_2874.parent)){if (BoolOfValue([&](){ReadMetric(x_2875);return [&](const auto&x_2878){return x_2878;}(HashtblForceFind([&](const auto&x_2876){return x_2876;}(UnSome(x_2874.parent)).var,"is_svg_block"));}())){return VBool(true);}else{ReadMetric(x_2875);return [&](const auto&x_2882){return x_2882;}(HashtblForceFind([&](const auto&x_2880){return x_2880;}(UnSome(x_2874.parent)).var,"inside_svg"));}else{return VBool(false);};}auto var_modified_x_678(const auto&x_2884){return [&](const auto&x_2885){return MakeUnit();};}auto eval_expr_x_675(const auto&x_2887){return [&](const auto&x_2888){return eq(VString(x_2887.name),VString("svg"));};}auto var_modified_x_673(const auto&x_2889){return [&](const auto&x_2890){return MakeUnit();};}auto eval_expr_x_670(const auto&x_2899){return [&](const auto&x_2900){return neq([&](){ReadMetric(x_2900);return [&](const auto&x_2903){return x_2903;}(HashtblForceFind([&](const auto&x_2901){return x_2901;}(x_2899).var,"height_attr_expr"));}(),VString("auto"));};}auto var_modified_x_668(const auto&x_2905){return [&](const auto&x_2906){return MakeUnit();};}auto eval_expr_x_665(const auto&x_2914){return [&](const auto&x_2915){if (BoolOfValue(not(VBool(IsSome(HashtblFind(x_2914.attr,"height")))))){return VString("auto");}else{if (BoolOfValue((BoolOfValue(string_is_float([&](){ReadMetric(x_2915);return [&](const auto&x_2916){return x_2916;}(HashtblForceFind(x_2914.attr,"height"));}())))?(VBool(true)):(has_suffix([&](){ReadMetric(x_2915);return [&](const auto&x_2918){return x_2918;}(HashtblForceFind(x_2914.attr,"height"));}(),VString("%"))))){ReadMetric(x_2915);return [&](const auto&x_2924){return x_2924;}(HashtblForceFind(x_2914.attr,"height"));}else{if (BoolOfValue(eq([&](){ReadMetric(x_2915);return [&](const auto&x_2920){return x_2920;}(HashtblForceFind(x_2914.attr,"height"));}(),VString("Auto")))){return VString("auto");}else{return Panic();};}auto var_modified_x_663(const auto&x_2926){return [&](const auto&x_2927){return MakeUnit();};}auto eval_expr_x_660(const auto&x_2937){return [&](const auto&x_2938){return neq([&](){ReadMetric(x_2938);return [&](const auto&x_2941){return x_2941;}(HashtblForceFind([&](const auto&x_2939){return x_2939;}(x_2937).var,"width_attr_expr"));}(),VString("auto"));};}auto var_modified_x_658(const auto&x_2943){return [&](const auto&x_2944){return MakeUnit();};}auto eval_expr_x_655(const auto&x_2952){return [&](const auto&x_2953){if (BoolOfValue(not(VBool(IsSome(HashtblFind(x_2952.attr,"width")))))){return VString("auto");}else{if (BoolOfValue((BoolOfValue(string_is_float([&](){ReadMetric(x_2953);return [&](const auto&x_2954){return x_2954;}(HashtblForceFind(x_2952.attr,"width"));}())))?(VBool(true)):(has_suffix([&](){ReadMetric(x_2953);return [&](const auto&x_2956){return x_2956;}(HashtblForceFind(x_2952.attr,"width"));}(),VString("%"))))){ReadMetric(x_2953);return [&](const auto&x_2962){return x_2962;}(HashtblForceFind(x_2952.attr,"width"));}else{if (BoolOfValue(eq([&](){ReadMetric(x_2953);return [&](const auto&x_2958){return x_2958;}(HashtblForceFind(x_2952.attr,"width"));}(),VString("Auto")))){return VString("auto");}else{return Panic();};}auto var_modified_x_653(const auto&x_2964){return [&](const auto&x_2965){return MakeUnit();};}auto eval_expr_x_650(const auto&x_2968){return [&](const auto&x_2969){if (BoolOfValue((IsSome(x_2968.parent))?((BoolOfValue(eq([&](){ReadMetric(x_2969);return [&](const auto&x_2972){return x_2972;}(HashtblForceFind([&](const auto&x_2970){return x_2970;}(UnSome(x_2968.parent)).var,"display"));}(),VString("flex"))))?(VBool(true)):(eq([&](){ReadMetric(x_2969);return [&](const auto&x_2976){return x_2976;}(HashtblForceFind([&](const auto&x_2974){return x_2974;}(UnSome(x_2968.parent)).var,"display"));}(),VString("inline-flex")))):(VBool(false)))){if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_2969);return [&](const auto&x_2980){return x_2980;}(HashtblForceFind([&](const auto&x_2978){return x_2978;}(UnSome(x_2968.parent)).var,"flex_direction"));}(),VString("column"))))?(VBool(true)):(eq([&](){ReadMetric(x_2969);return [&](const auto&x_2984){return x_2984;}(HashtblForceFind([&](const auto&x_2982){return x_2982;}(UnSome(x_2968.parent)).var,"flex_direction"));}(),VString("column-reverse"))))){return VBool(true);}else{if (BoolOfValue(eq([&](){ReadMetric(x_2969);return [&](const auto&x_2988){return x_2988;}(HashtblForceFind([&](const auto&x_2986){return x_2986;}(UnSome(x_2968.parent)).var,"flex_direction"));}(),VString("row")))){return VBool(false);}else{return Panic();}else{return VBool(false);};}auto var_modified_x_648(const auto&x_2994){return [&](const auto&x_2995){return MakeUnit();};}auto eval_expr_x_645(const auto&x_2999){return [&](const auto&x_3000){if (BoolOfValue((IsSome(x_2999.parent))?((BoolOfValue(eq([&](){ReadMetric(x_3000);return [&](const auto&x_3003){return x_3003;}(HashtblForceFind([&](const auto&x_3001){return x_3001;}(UnSome(x_2999.parent)).var,"display"));}(),VString("flex"))))?(VBool(true)):(eq([&](){ReadMetric(x_3000);return [&](const auto&x_3007){return x_3007;}(HashtblForceFind([&](const auto&x_3005){return x_3005;}(UnSome(x_2999.parent)).var,"display"));}(),VString("inline-flex")))):(VBool(false)))){if (BoolOfValue(eq([&](){ReadMetric(x_3000);return [&](const auto&x_3011){return x_3011;}(HashtblForceFind([&](const auto&x_3009){return x_3009;}(UnSome(x_2999.parent)).var,"flex_direction"));}(),VString("row")))){return VBool(true);}else{if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_3000);return [&](const auto&x_3015){return x_3015;}(HashtblForceFind([&](const auto&x_3013){return x_3013;}(UnSome(x_2999.parent)).var,"flex_direction"));}(),VString("column"))))?(VBool(true)):(eq([&](){ReadMetric(x_3000);return [&](const auto&x_3019){return x_3019;}(HashtblForceFind([&](const auto&x_3017){return x_3017;}(UnSome(x_2999.parent)).var,"flex_direction"));}(),VString("column-reverse"))))){return VBool(false);}else{return Panic();}else{return VBool(false);};}auto var_modified_x_643(const auto&x_3025){return [&](const auto&x_3026){return MakeUnit();};}auto eval_expr_x_640(const auto&x_3033){return [&](const auto&x_3034){if (IsSome(HashtblFind(x_3033.prop,"flex-direction"))){ReadMetric(x_3034);return [&](const auto&x_3035){return x_3035;}(HashtblForceFind(x_3033.prop,"flex-direction"));}else{return VString("");};}auto var_modified_x_638(const auto&x_3037){return [&](const auto&x_3038){OptionMatch(x_3037.next,[&](const auto&x_3040){return Nil();},[&](const auto&x_3039){return Cons(x_3039,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_635(const auto&x_3043){return [&](const auto&x_3044){return plus((IsSome(x_3043.prev))?([&](){ReadMetric(x_3044);return [&](const auto&x_3047){return x_3047;}(HashtblForceFind([&](const auto&x_3045){return x_3045;}(UnSome(x_3043.prev)).var,"flex_shrink_sum"));}()):(VFloat(0.)),[&](){ReadMetric(x_3044);return [&](const auto&x_3051){return x_3051;}(HashtblForceFind([&](const auto&x_3049){return x_3049;}(x_3043).var,"flex_shrink"));}());};}auto var_modified_x_633(const auto&x_3053){return [&](const auto&x_3054){OptionMatch(x_3053.next,[&](const auto&x_3056){return Nil();},[&](const auto&x_3055){return Cons(x_3055,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_630(const auto&x_3059){return [&](const auto&x_3060){return plus((IsSome(x_3059.prev))?([&](){ReadMetric(x_3060);return [&](const auto&x_3063){return x_3063;}(HashtblForceFind([&](const auto&x_3061){return x_3061;}(UnSome(x_3059.prev)).var,"flex_grow_sum"));}()):(VFloat(0.)),[&](){ReadMetric(x_3060);return [&](const auto&x_3067){return x_3067;}(HashtblForceFind([&](const auto&x_3065){return x_3065;}(x_3059).var,"flex_grow"));}());};}auto var_modified_x_628(const auto&x_3069){return [&](const auto&x_3070){return MakeUnit();};}auto eval_expr_x_625(const auto&x_3073){return [&](const auto&x_3074){if (IsSome(HashtblFind(x_3073.prop,"flex-shrink"))){return string_to_float([&](){ReadMetric(x_3074);return [&](const auto&x_3075){return x_3075;}(HashtblForceFind(x_3073.prop,"flex-shrink"));}());}else{return VFloat(0.);};}auto var_modified_x_623(const auto&x_3077){return [&](const auto&x_3078){return MakeUnit();};}auto eval_expr_x_620(const auto&x_3081){return [&](const auto&x_3082){if (IsSome(HashtblFind(x_3081.prop,"flex-grow"))){return string_to_float([&](){ReadMetric(x_3082);return [&](const auto&x_3083){return x_3083;}(HashtblForceFind(x_3081.prop,"flex-grow"));}());}else{return VFloat(0.);};}auto var_modified_x_618(const auto&x_3085){return [&](const auto&x_3086){return MakeUnit();};}auto eval_expr_x_615(const auto&x_3092){return [&](const auto&x_3093){if (IsSome(HashtblFind(x_3092.prop,"position"))){ReadMetric(x_3093);return [&](const auto&x_3094){return x_3094;}(HashtblForceFind(x_3092.prop,"position"));}else{return VString("static");};}auto var_modified_x_613(const auto&x_3096){return [&](const auto&x_3097){return MakeUnit();};}auto eval_expr_x_610(const auto&x_3123){return [&](const auto&x_3124){if (IsSome(HashtblFind(x_3123.prop,"display"))){ReadMetric(x_3124);return [&](const auto&x_3125){return x_3125;}(HashtblForceFind(x_3123.prop,"display"));}else{return VString("block");};}auto var_modified_x_606(const auto&x_3127){return [&](const auto&x_3128){if (IsNone(x_3127.next)){OptionMatch(x_3127.parent,[&](const auto&x_3130){return Nil();},[&](const auto&x_3129){return Cons(x_3129,Nil());});}else{Nil();OptionMatch(x_3127.next,[&](const auto&x_3133){return Nil();},[&](const auto&x_3132){return Cons(x_3132,Nil());});OptionMatch(x_3127.next,[&](const auto&x_3136){return Nil();},[&](const auto&x_3135){return Cons(x_3135,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_603(const auto&x_3138){return [&](const auto&x_3139){if (IsSome(x_3138.prev)){if (BoolOfValue([&](){ReadMetric(x_3139);return [&](const auto&x_3150){return x_3150;}(HashtblForceFind([&](const auto&x_3148){return x_3148;}(x_3138).var,"line_break"));}())){return plus([&](){ReadMetric(x_3139);return [&](const auto&x_3158){return x_3158;}(HashtblForceFind([&](const auto&x_3156){return x_3156;}(UnSome(x_3138.prev)).var,"finished_intrinsic_height_sum"));}(),plus([&](){ReadMetric(x_3139);return [&](const auto&x_3162){return x_3162;}(HashtblForceFind([&](const auto&x_3160){return x_3160;}(UnSome(x_3138.prev)).var,"intrinsic_current_line_height"));}(),[&](){ReadMetric(x_3139);return [&](const auto&x_3166){return x_3166;}(HashtblForceFind([&](const auto&x_3164){return x_3164;}(x_3138).var,"intrinsic_height_external"));}()));}else{ReadMetric(x_3139);return [&](const auto&x_3154){return x_3154;}(HashtblForceFind([&](const auto&x_3152){return x_3152;}(UnSome(x_3138.prev)).var,"finished_intrinsic_height_sum"));}else{if (BoolOfValue([&](){ReadMetric(x_3139);return [&](const auto&x_3142){return x_3142;}(HashtblForceFind([&](const auto&x_3140){return x_3140;}(x_3138).var,"line_break"));}())){ReadMetric(x_3139);return [&](const auto&x_3146){return x_3146;}(HashtblForceFind([&](const auto&x_3144){return x_3144;}(x_3138).var,"intrinsic_height_external"));}else{return VFloat(0.);};}auto var_modified_x_601(const auto&x_3168){return [&](const auto&x_3169){if (IsNone(x_3168.next)){OptionMatch(x_3168.parent,[&](const auto&x_3171){return Nil();},[&](const auto&x_3170){return Cons(x_3170,Nil());});}else{Nil();OptionMatch(x_3168.next,[&](const auto&x_3174){return Nil();},[&](const auto&x_3173){return Cons(x_3173,Nil());});OptionMatch(x_3168.next,[&](const auto&x_3177){return Nil();},[&](const auto&x_3176){return Cons(x_3176,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_598(const auto&x_3179){return [&](const auto&x_3180){if (BoolOfValue([&](){ReadMetric(x_3180);return [&](const auto&x_3183){return x_3183;}(HashtblForceFind([&](const auto&x_3181){return x_3181;}(x_3179).var,"line_break"));}())){return VFloat(0.);}else{return max([&](){ReadMetric(x_3180);return [&](const auto&x_3187){return x_3187;}(HashtblForceFind([&](const auto&x_3185){return x_3185;}(x_3179).var,"intrinsic_height_external"));}(),(IsSome(x_3179.prev))?([&](){ReadMetric(x_3180);return [&](const auto&x_3191){return x_3191;}(HashtblForceFind([&](const auto&x_3189){return x_3189;}(UnSome(x_3179.prev)).var,"intrinsic_current_line_height"));}()):(VFloat(0.)));};}auto var_modified_x_596(const auto&x_3193){return [&](const auto&x_3194){OptionMatch(x_3193.next,[&](const auto&x_3196){return Nil();},[&](const auto&x_3195){return Cons(x_3195,Nil());});MakeUnit();MakeUnit();if (IsNone(x_3193.next)){OptionMatch(x_3193.parent,[&](const auto&x_3199){return Nil();},[&](const auto&x_3198){return Cons(x_3198,Nil());});}else{Nil();MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_593(const auto&x_3201){return [&](const auto&x_3202){return plus((IsSome(x_3201.prev))?([&](){ReadMetric(x_3202);return [&](const auto&x_3205){return x_3205;}(HashtblForceFind([&](const auto&x_3203){return x_3203;}(UnSome(x_3201.prev)).var,"intrinsic_height_sum"));}()):(VFloat(0.)),[&](){ReadMetric(x_3202);return [&](const auto&x_3209){return x_3209;}(HashtblForceFind([&](const auto&x_3207){return x_3207;}(x_3201).var,"intrinsic_height_external"));}());};}auto var_modified_x_591(const auto&x_3211){return [&](const auto&x_3212){return MakeUnit();};}auto eval_expr_x_588(const auto&x_3217){return [&](const auto&x_3218){if (BoolOfValue(eq([&](){ReadMetric(x_3218);return [&](const auto&x_3221){return x_3221;}(HashtblForceFind([&](const auto&x_3219){return x_3219;}(x_3217).var,"position"));}(),VString("absolute")))){return VFloat(0.);}else{ReadMetric(x_3218);return [&](const auto&x_3225){return x_3225;}(HashtblForceFind([&](const auto&x_3223){return x_3223;}(x_3217).var,"intrinsic_height_internal"));};}auto var_modified_x_586(const auto&x_3227){return [&](const auto&x_3228){return MakeUnit();};}auto eval_expr_x_583(const auto&x_3233){return [&](const auto&x_3234){if (BoolOfValue(eq([&](){ReadMetric(x_3234);return [&](const auto&x_3237){return x_3237;}(HashtblForceFind([&](const auto&x_3235){return x_3235;}(x_3233).var,"display"));}(),VString("none")))){return VFloat(0.);}else{if (BoolOfValue([&](){ReadMetric(x_3234);return [&](const auto&x_3241){return x_3241;}(HashtblForceFind([&](const auto&x_3239){return x_3239;}(x_3233).var,"inside_svg"));}())){return VFloat(0.);}else{if (BoolOfValue([&](){ReadMetric(x_3234);return [&](const auto&x_3245){return x_3245;}(HashtblForceFind([&](const auto&x_3243){return x_3243;}(x_3233).var,"disabled"));}())){return VFloat(0.);}else{if (BoolOfValue((BoolOfValue(neq([&](){ReadMetric(x_3234);return [&](const auto&x_3249){return x_3249;}(HashtblForceFind([&](const auto&x_3247){return x_3247;}(x_3233).var,"height_expr"));}(),VString("auto"))))?((BoolOfValue(not(has_suffix([&](){ReadMetric(x_3234);return [&](const auto&x_3253){return x_3253;}(HashtblForceFind([&](const auto&x_3251){return x_3251;}(x_3233).var,"height_expr"));}(),VString("%")))))?(neq([&](){ReadMetric(x_3234);return [&](const auto&x_3257){return x_3257;}(HashtblForceFind([&](const auto&x_3255){return x_3255;}(x_3233).var,"height_expr"));}(),VString("fit-content"))):(VBool(false))):(VBool(false)))){if (BoolOfValue(has_suffix([&](){ReadMetric(x_3234);return [&](const auto&x_3353){return x_3353;}(HashtblForceFind([&](const auto&x_3351){return x_3351;}(x_3233).var,"height_expr"));}(),VString("px")))){return string_to_float(strip_suffix([&](){ReadMetric(x_3234);return [&](const auto&x_3377){return x_3377;}(HashtblForceFind([&](const auto&x_3375){return x_3375;}(x_3233).var,"height_expr"));}(),VString("px")));}else{if (BoolOfValue(has_suffix([&](){ReadMetric(x_3234);return [&](const auto&x_3357){return x_3357;}(HashtblForceFind([&](const auto&x_3355){return x_3355;}(x_3233).var,"height_expr"));}(),VString("ch")))){return string_to_float(strip_suffix([&](){ReadMetric(x_3234);return [&](const auto&x_3373){return x_3373;}(HashtblForceFind([&](const auto&x_3371){return x_3371;}(x_3233).var,"height_expr"));}(),VString("ch")));}else{if (BoolOfValue(has_suffix([&](){ReadMetric(x_3234);return [&](const auto&x_3361){return x_3361;}(HashtblForceFind([&](const auto&x_3359){return x_3359;}(x_3233).var,"height_expr"));}(),VString("lh")))){return string_to_float(strip_suffix([&](){ReadMetric(x_3234);return [&](const auto&x_3369){return x_3369;}(HashtblForceFind([&](const auto&x_3367){return x_3367;}(x_3233).var,"height_expr"));}(),VString("lh")));}else{return Panic();}else{return plus([&](){ReadMetric(x_3234);return [&](const auto&x_3261){return x_3261;}(HashtblForceFind([&](const auto&x_3259){return x_3259;}(x_3233).var,"children_intrinsic_height"));}(),(StringEqual(x_3233.name,"#text"))?((IsSome(ListHead(x_3233.children)))?(Panic()):(VFloat(10.))):((BoolOfValue([&](){ReadMetric(x_3234);return [&](const auto&x_3265){return x_3265;}(HashtblForceFind([&](const auto&x_3263){return x_3263;}(x_3233).var,"is_default_case"));}()))?(VFloat(0.)):((StringEqual(x_3233.name,"BR"))?((IsSome(ListHead(x_3233.children)))?(Panic()):(VFloat(0.))):((StringEqual(x_3233.name,"INPUT"))?(VFloat(10.)):((StringEqual(x_3233.name,"svg"))?((BoolOfValue((BoolOfValue([&](){ReadMetric(x_3234);return [&](const auto&x_3325){return x_3325;}(HashtblForceFind([&](const auto&x_3323){return x_3323;}(x_3233).var,"has_height_attr"));}()))?(string_is_float([&](){ReadMetric(x_3234);return [&](const auto&x_3329){return x_3329;}(HashtblForceFind([&](const auto&x_3327){return x_3327;}(x_3233).var,"height_attr_expr"));}())):(VBool(false))))?(string_to_float([&](){ReadMetric(x_3234);return [&](const auto&x_3349){return x_3349;}(HashtblForceFind([&](const auto&x_3347){return x_3347;}(x_3233).var,"height_attr_expr"));}())):((IsSome(HashtblFind(x_3233.attr,"viewBox")))?(string_to_float(nth_by_sep([&](){ReadMetric(x_3234);return [&](const auto&x_3345){return x_3345;}(HashtblForceFind(x_3233.attr,"viewBox"));}(),VString(" "),VInt(3)))):((BoolOfValue((BoolOfValue([&](){ReadMetric(x_3234);return [&](const auto&x_3333){return x_3333;}(HashtblForceFind([&](const auto&x_3331){return x_3331;}(x_3233).var,"has_height_attr"));}()))?((BoolOfValue(has_suffix([&](){ReadMetric(x_3234);return [&](const auto&x_3337){return x_3337;}(HashtblForceFind([&](const auto&x_3335){return x_3335;}(x_3233).var,"height_attr_expr"));}(),VString("%"))))?(VBool(IsSome(HashtblFind(x_3233.attr,"viewBox")))):(VBool(false))):(VBool(false))))?(mult(string_to_float(nth_by_sep([&](){ReadMetric(x_3234);return [&](const auto&x_3339){return x_3339;}(HashtblForceFind(x_3233.attr,"viewBox"));}(),VString(" "),VInt(3))),divide(string_to_float(strip_suffix([&](){ReadMetric(x_3234);return [&](const auto&x_3343){return x_3343;}(HashtblForceFind([&](const auto&x_3341){return x_3341;}(x_3233).var,"height_attr_expr"));}(),VString("%"))),VFloat(100.)))):(Panic())))):((StringEqual(x_3233.name,"IMG"))?((BoolOfValue([&](){ReadMetric(x_3234);return [&](const auto&x_3285){return x_3285;}(HashtblForceFind([&](const auto&x_3283){return x_3283;}(x_3233).var,"has_height_attr"));}()))?(string_to_float([&](){ReadMetric(x_3234);return [&](const auto&x_3321){return x_3321;}(HashtblForceFind([&](const auto&x_3319){return x_3319;}(x_3233).var,"height_attr_expr"));}())):((BoolOfValue((IsSome(HashtblFind(x_3233.attr,"image_height")))?(not([&](){ReadMetric(x_3234);return [&](const auto&x_3289){return x_3289;}(HashtblForceFind([&](const auto&x_3287){return x_3287;}(x_3233).var,"has_width_attr"));}())):(VBool(false))))?(int_to_float([&](){ReadMetric(x_3234);return [&](const auto&x_3317){return x_3317;}(HashtblForceFind(x_3233.attr,"image_height"));}())):((BoolOfValue((BoolOfValue([&](){ReadMetric(x_3234);return [&](const auto&x_3293){return x_3293;}(HashtblForceFind([&](const auto&x_3291){return x_3291;}(x_3233).var,"has_width_attr"));}()))?((BoolOfValue(not([&](){ReadMetric(x_3234);return [&](const auto&x_3297){return x_3297;}(HashtblForceFind([&](const auto&x_3295){return x_3295;}(x_3233).var,"has_height_attr"));}())))?((IsSome(HashtblFind(x_3233.attr,"image_width")))?(VBool(IsSome(HashtblFind(x_3233.attr,"image_height")))):(VBool(false))):(VBool(false))):(VBool(false))))?((BoolOfValue(neq([&](){ReadMetric(x_3234);return [&](const auto&x_3307){return x_3307;}(HashtblForceFind(x_3233.attr,"image_width"));}(),VInt(0))))?(mult(string_to_float([&](){ReadMetric(x_3234);return [&](const auto&x_3311){return x_3311;}(HashtblForceFind([&](const auto&x_3309){return x_3309;}(x_3233).var,"width_attr_expr"));}()),divide(int_to_float([&](){ReadMetric(x_3234);return [&](const auto&x_3313){return x_3313;}(HashtblForceFind(x_3233.attr,"image_height"));}()),int_to_float([&](){ReadMetric(x_3234);return [&](const auto&x_3315){return x_3315;}(HashtblForceFind(x_3233.attr,"image_width"));}())))):(VFloat(0.))):(Panic())))):((StringEqual(x_3233.name,"IFRAME"))?((BoolOfValue([&](){ReadMetric(x_3234);return [&](const auto&x_3277){return x_3277;}(HashtblForceFind([&](const auto&x_3275){return x_3275;}(x_3233).var,"has_height_attr"));}()))?(Panic()):(VFloat(150.))):((StringEqual(x_3233.name,"TEXTAREA"))?(VFloat(100.)):((StringEqual(x_3233.name,"VIDEO"))?((BoolOfValue([&](){ReadMetric(x_3234);return [&](const auto&x_3269){return x_3269;}(HashtblForceFind([&](const auto&x_3267){return x_3267;}(x_3233).var,"has_height_attr"));}()))?(Panic()):(VFloat(150.))):(Panic()))))))))));};}auto var_modified_x_581(const auto&x_3379){return [&](const auto&x_3380){return MakeUnit();};}auto eval_expr_x_578(const auto&x_3382){return [&](const auto&x_3383){if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_3383);return [&](const auto&x_3386){return x_3386;}(HashtblForceFind([&](const auto&x_3384){return x_3384;}(x_3382).var,"display"));}(),VString("none"))))?(VBool(true)):((BoolOfValue([&](){ReadMetric(x_3383);return [&](const auto&x_3390){return x_3390;}(HashtblForceFind([&](const auto&x_3388){return x_3388;}(x_3382).var,"inside_svg"));}()))?(VBool(true)):([&](){ReadMetric(x_3383);return [&](const auto&x_3394){return x_3394;}(HashtblForceFind([&](const auto&x_3392){return x_3392;}(x_3382).var,"disabled"));}())))){return VBool(true);}else{if (BoolOfValue((IsSome(x_3382.parent))?([&](){ReadMetric(x_3383);return [&](const auto&x_3398){return x_3398;}(HashtblForceFind([&](const auto&x_3396){return x_3396;}(UnSome(x_3382.parent)).var,"is_flex_column"));}()):(VBool(false)))){return VBool(false);}else{if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_3383);return [&](const auto&x_3402){return x_3402;}(HashtblForceFind([&](const auto&x_3400){return x_3400;}(x_3382).var,"height_expr"));}(),VString("auto"))))?(VBool(true)):((BoolOfValue(has_suffix([&](){ReadMetric(x_3383);return [&](const auto&x_3406){return x_3406;}(HashtblForceFind([&](const auto&x_3404){return x_3404;}(x_3382).var,"height_expr"));}(),VString("px"))))?(VBool(true)):((BoolOfValue(has_suffix([&](){ReadMetric(x_3383);return [&](const auto&x_3410){return x_3410;}(HashtblForceFind([&](const auto&x_3408){return x_3408;}(x_3382).var,"height_expr"));}(),VString("ch"))))?(VBool(true)):((BoolOfValue(has_suffix([&](){ReadMetric(x_3383);return [&](const auto&x_3414){return x_3414;}(HashtblForceFind([&](const auto&x_3412){return x_3412;}(x_3382).var,"height_expr"));}(),VString("lh"))))?(VBool(true)):(eq([&](){ReadMetric(x_3383);return [&](const auto&x_3418){return x_3418;}(HashtblForceFind([&](const auto&x_3416){return x_3416;}(x_3382).var,"height_expr"));}(),VString("max-content")))))))){return VBool(true);}else{if (BoolOfValue((BoolOfValue(has_suffix([&](){ReadMetric(x_3383);return [&](const auto&x_3422){return x_3422;}(HashtblForceFind([&](const auto&x_3420){return x_3420;}(x_3382).var,"height_expr"));}(),VString("%"))))?(VBool(true)):(eq([&](){ReadMetric(x_3383);return [&](const auto&x_3426){return x_3426;}(HashtblForceFind([&](const auto&x_3424){return x_3424;}(x_3382).var,"height_expr"));}(),VString("fit-content"))))){return VBool(false);}else{return Panic();};}auto var_modified_x_576(const auto&x_3432){return [&](const auto&x_3433){return MakeUnit();};}auto eval_expr_x_573(const auto&x_3453){return [&](const auto&x_3454){if (IsSome(HashtblFind(x_3453.prop,"height"))){ReadMetric(x_3454);return [&](const auto&x_3455){return x_3455;}(HashtblForceFind(x_3453.prop,"height"));}else{return VString("auto");};}auto var_modified_x_571(const auto&x_3457){return [&](const auto&x_3458){return MakeUnit();};}auto eval_expr_x_568(const auto&x_3460){return [&](const auto&x_3461){if (IsSome(ListLast(x_3460.children))){return plus([&](){ReadMetric(x_3461);return [&](const auto&x_3464){return x_3464;}(HashtblForceFind([&](const auto&x_3462){return x_3462;}(UnSome(ListLast(x_3460.children))).var,"finished_intrinsic_height_sum"));}(),[&](){ReadMetric(x_3461);return [&](const auto&x_3468){return x_3468;}(HashtblForceFind([&](const auto&x_3466){return x_3466;}(UnSome(ListLast(x_3460.children))).var,"intrinsic_current_line_height"));}());}else{return VFloat(0.);};}auto var_modified_x_566(const auto&x_3470){return [&](const auto&x_3471){OptionMatch(x_3470.next,[&](const auto&x_3473){return Nil();},[&](const auto&x_3472){return Cons(x_3472,Nil());});MakeUnit();MakeUnit();if (IsNone(x_3470.next)){OptionMatch(x_3470.parent,[&](const auto&x_3476){return Nil();},[&](const auto&x_3475){return Cons(x_3475,Nil());});}else{Nil();MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_563(const auto&x_3478){return [&](const auto&x_3479){return plus((IsSome(x_3478.prev))?([&](){ReadMetric(x_3479);return [&](const auto&x_3482){return x_3482;}(HashtblForceFind([&](const auto&x_3480){return x_3480;}(UnSome(x_3478.prev)).var,"intrinsic_width_sum"));}()):(VFloat(0.)),[&](){ReadMetric(x_3479);return [&](const auto&x_3486){return x_3486;}(HashtblForceFind([&](const auto&x_3484){return x_3484;}(x_3478).var,"intrinsic_width_external"));}());};}auto var_modified_x_561(const auto&x_3488){return [&](const auto&x_3489){if (IsNone(x_3488.next)){OptionMatch(x_3488.parent,[&](const auto&x_3491){return Nil();},[&](const auto&x_3490){return Cons(x_3490,Nil());});}else{Nil();OptionMatch(x_3488.next,[&](const auto&x_3494){return Nil();},[&](const auto&x_3493){return Cons(x_3493,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_558(const auto&x_3496){return [&](const auto&x_3497){return max([&](){ReadMetric(x_3497);return [&](const auto&x_3500){return x_3500;}(HashtblForceFind([&](const auto&x_3498){return x_3498;}(x_3496).var,"intrinsic_current_line_width"));}(),(IsSome(x_3496.prev))?([&](){ReadMetric(x_3497);return [&](const auto&x_3504){return x_3504;}(HashtblForceFind([&](const auto&x_3502){return x_3502;}(UnSome(x_3496.prev)).var,"intrinsic_width_max"));}()):(VFloat(0.)));};}auto var_modified_x_556(const auto&x_3506){return [&](const auto&x_3507){OptionMatch(x_3506.next,[&](const auto&x_3509){return Nil();},[&](const auto&x_3508){return Cons(x_3508,Nil());});MakeUnit();MakeUnit();return MakeUnit();};}auto eval_expr_x_553(const auto&x_3512){return [&](const auto&x_3513){return plus([&](){ReadMetric(x_3513);return [&](const auto&x_3516){return x_3516;}(HashtblForceFind([&](const auto&x_3514){return x_3514;}(x_3512).var,"intrinsic_width_external"));}(),(BoolOfValue((IsSome(x_3512.prev))?(not([&](){ReadMetric(x_3513);return [&](const auto&x_3520){return x_3520;}(HashtblForceFind([&](const auto&x_3518){return x_3518;}(UnSome(x_3512.prev)).var,"line_break"));}())):(VBool(false))))?([&](){ReadMetric(x_3513);return [&](const auto&x_3524){return x_3524;}(HashtblForceFind([&](const auto&x_3522){return x_3522;}(UnSome(x_3512.prev)).var,"intrinsic_current_line_width"));}()):(VFloat(0.)));};}auto var_modified_x_551(const auto&x_3526){return [&](const auto&x_3527){return MakeUnit();};}auto eval_expr_x_548(const auto&x_3530){return [&](const auto&x_3531){if (BoolOfValue(eq([&](){ReadMetric(x_3531);return [&](const auto&x_3534){return x_3534;}(HashtblForceFind([&](const auto&x_3532){return x_3532;}(x_3530).var,"position"));}(),VString("absolute")))){return VFloat(0.);}else{ReadMetric(x_3531);return [&](const auto&x_3538){return x_3538;}(HashtblForceFind([&](const auto&x_3536){return x_3536;}(x_3530).var,"intrinsic_width_internal"));};}auto var_modified_x_546(const auto&x_3540){return [&](const auto&x_3541){return MakeUnit();};}auto eval_expr_x_543(const auto&x_3546){return [&](const auto&x_3547){if (BoolOfValue(eq([&](){ReadMetric(x_3547);return [&](const auto&x_3550){return x_3550;}(HashtblForceFind([&](const auto&x_3548){return x_3548;}(x_3546).var,"display"));}(),VString("none")))){return VFloat(0.);}else{if (BoolOfValue([&](){ReadMetric(x_3547);return [&](const auto&x_3554){return x_3554;}(HashtblForceFind([&](const auto&x_3552){return x_3552;}(x_3546).var,"inside_svg"));}())){return VFloat(0.);}else{if (BoolOfValue([&](){ReadMetric(x_3547);return [&](const auto&x_3558){return x_3558;}(HashtblForceFind([&](const auto&x_3556){return x_3556;}(x_3546).var,"disabled"));}())){return VFloat(0.);}else{if (BoolOfValue((BoolOfValue(neq([&](){ReadMetric(x_3547);return [&](const auto&x_3562){return x_3562;}(HashtblForceFind([&](const auto&x_3560){return x_3560;}(x_3546).var,"width_expr"));}(),VString("auto"))))?((BoolOfValue(not(has_suffix([&](){ReadMetric(x_3547);return [&](const auto&x_3566){return x_3566;}(HashtblForceFind([&](const auto&x_3564){return x_3564;}(x_3546).var,"width_expr"));}(),VString("%")))))?((BoolOfValue(neq([&](){ReadMetric(x_3547);return [&](const auto&x_3570){return x_3570;}(HashtblForceFind([&](const auto&x_3568){return x_3568;}(x_3546).var,"width_expr"));}(),VString("fit-content"))))?((BoolOfValue(neq([&](){ReadMetric(x_3547);return [&](const auto&x_3574){return x_3574;}(HashtblForceFind([&](const auto&x_3572){return x_3572;}(x_3546).var,"width_expr"));}(),VString("max-content"))))?(not(has_prefix([&](){ReadMetric(x_3547);return [&](const auto&x_3578){return x_3578;}(HashtblForceFind([&](const auto&x_3576){return x_3576;}(x_3546).var,"width_expr"));}(),VString("calc")))):(VBool(false))):(VBool(false))):(VBool(false))):(VBool(false)))){if (BoolOfValue(has_suffix([&](){ReadMetric(x_3547);return [&](const auto&x_3682){return x_3682;}(HashtblForceFind([&](const auto&x_3680){return x_3680;}(x_3546).var,"width_expr"));}(),VString("px")))){return string_to_float(strip_suffix([&](){ReadMetric(x_3547);return [&](const auto&x_3698){return x_3698;}(HashtblForceFind([&](const auto&x_3696){return x_3696;}(x_3546).var,"width_expr"));}(),VString("px")));}else{if (BoolOfValue(has_suffix([&](){ReadMetric(x_3547);return [&](const auto&x_3686){return x_3686;}(HashtblForceFind([&](const auto&x_3684){return x_3684;}(x_3546).var,"width_expr"));}(),VString("ch")))){return string_to_float(strip_suffix([&](){ReadMetric(x_3547);return [&](const auto&x_3694){return x_3694;}(HashtblForceFind([&](const auto&x_3692){return x_3692;}(x_3546).var,"width_expr"));}(),VString("ch")));}else{return Panic();}else{return plus([&](){ReadMetric(x_3547);return [&](const auto&x_3582){return x_3582;}(HashtblForceFind([&](const auto&x_3580){return x_3580;}(x_3546).var,"children_intrinsic_width"));}(),(StringEqual(x_3546.name,"#text"))?((IsSome(ListHead(x_3546.children)))?(Panic()):(VFloat(100.))):((BoolOfValue([&](){ReadMetric(x_3547);return [&](const auto&x_3586){return x_3586;}(HashtblForceFind([&](const auto&x_3584){return x_3584;}(x_3546).var,"is_default_case"));}()))?(VFloat(0.)):((StringEqual(x_3546.name,"BR"))?((IsSome(ListHead(x_3546.children)))?(Panic()):(VFloat(0.))):((StringEqual(x_3546.name,"INPUT"))?(VFloat(100.)):((StringEqual(x_3546.name,"svg"))?((BoolOfValue((BoolOfValue([&](){ReadMetric(x_3547);return [&](const auto&x_3646){return x_3646;}(HashtblForceFind([&](const auto&x_3644){return x_3644;}(x_3546).var,"has_width_attr"));}()))?(string_is_float([&](){ReadMetric(x_3547);return [&](const auto&x_3650){return x_3650;}(HashtblForceFind([&](const auto&x_3648){return x_3648;}(x_3546).var,"width_attr_expr"));}())):(VBool(false))))?(string_to_float([&](){ReadMetric(x_3547);return [&](const auto&x_3678){return x_3678;}(HashtblForceFind([&](const auto&x_3676){return x_3676;}(x_3546).var,"width_attr_expr"));}())):((BoolOfValue((BoolOfValue(not([&](){ReadMetric(x_3547);return [&](const auto&x_3654){return x_3654;}(HashtblForceFind([&](const auto&x_3652){return x_3652;}(x_3546).var,"has_width_attr"));}())))?(VBool(IsSome(HashtblFind(x_3546.attr,"viewBox")))):(VBool(false))))?(string_to_float(nth_by_sep([&](){ReadMetric(x_3547);return [&](const auto&x_3674){return x_3674;}(HashtblForceFind(x_3546.attr,"viewBox"));}(),VString(" "),VInt(2)))):((BoolOfValue((BoolOfValue([&](){ReadMetric(x_3547);return [&](const auto&x_3658){return x_3658;}(HashtblForceFind([&](const auto&x_3656){return x_3656;}(x_3546).var,"has_width_attr"));}()))?((BoolOfValue(has_suffix([&](){ReadMetric(x_3547);return [&](const auto&x_3662){return x_3662;}(HashtblForceFind([&](const auto&x_3660){return x_3660;}(x_3546).var,"width_attr_expr"));}(),VString("%"))))?(VBool(IsSome(HashtblFind(x_3546.attr,"viewBox")))):(VBool(false))):(VBool(false))))?(mult(string_to_float(nth_by_sep([&](){ReadMetric(x_3547);return [&](const auto&x_3668){return x_3668;}(HashtblForceFind(x_3546.attr,"viewBox"));}(),VString(" "),VInt(2))),divide(string_to_float(strip_suffix([&](){ReadMetric(x_3547);return [&](const auto&x_3672){return x_3672;}(HashtblForceFind([&](const auto&x_3670){return x_3670;}(x_3546).var,"width_attr_expr"));}(),VString("%"))),VFloat(100.)))):(Panic())))):((StringEqual(x_3546.name,"IMG"))?((BoolOfValue([&](){ReadMetric(x_3547);return [&](const auto&x_3606){return x_3606;}(HashtblForceFind([&](const auto&x_3604){return x_3604;}(x_3546).var,"has_width_attr"));}()))?(string_to_float([&](){ReadMetric(x_3547);return [&](const auto&x_3642){return x_3642;}(HashtblForceFind([&](const auto&x_3640){return x_3640;}(x_3546).var,"width_attr_expr"));}())):((BoolOfValue((IsSome(HashtblFind(x_3546.attr,"image_width")))?(not([&](){ReadMetric(x_3547);return [&](const auto&x_3610){return x_3610;}(HashtblForceFind([&](const auto&x_3608){return x_3608;}(x_3546).var,"has_height_attr"));}())):(VBool(false))))?(int_to_float([&](){ReadMetric(x_3547);return [&](const auto&x_3638){return x_3638;}(HashtblForceFind(x_3546.attr,"image_width"));}())):((BoolOfValue((BoolOfValue(not([&](){ReadMetric(x_3547);return [&](const auto&x_3614){return x_3614;}(HashtblForceFind([&](const auto&x_3612){return x_3612;}(x_3546).var,"has_width_attr"));}())))?((BoolOfValue([&](){ReadMetric(x_3547);return [&](const auto&x_3618){return x_3618;}(HashtblForceFind([&](const auto&x_3616){return x_3616;}(x_3546).var,"has_height_attr"));}()))?((IsSome(HashtblFind(x_3546.attr,"image_width")))?(VBool(IsSome(HashtblFind(x_3546.attr,"image_height")))):(VBool(false))):(VBool(false))):(VBool(false))))?((BoolOfValue(neq([&](){ReadMetric(x_3547);return [&](const auto&x_3628){return x_3628;}(HashtblForceFind(x_3546.attr,"image_height"));}(),VInt(0))))?(mult(string_to_float([&](){ReadMetric(x_3547);return [&](const auto&x_3632){return x_3632;}(HashtblForceFind([&](const auto&x_3630){return x_3630;}(x_3546).var,"height_attr_expr"));}()),divide(int_to_float([&](){ReadMetric(x_3547);return [&](const auto&x_3634){return x_3634;}(HashtblForceFind(x_3546.attr,"image_width"));}()),int_to_float([&](){ReadMetric(x_3547);return [&](const auto&x_3636){return x_3636;}(HashtblForceFind(x_3546.attr,"image_height"));}())))):(VFloat(0.))):(Panic())))):((StringEqual(x_3546.name,"IFRAME"))?((BoolOfValue([&](){ReadMetric(x_3547);return [&](const auto&x_3598){return x_3598;}(HashtblForceFind([&](const auto&x_3596){return x_3596;}(x_3546).var,"has_width_attr"));}()))?(Panic()):(VFloat(300.))):((StringEqual(x_3546.name,"TEXTAREA"))?(VFloat(100.)):((StringEqual(x_3546.name,"VIDEO"))?((BoolOfValue([&](){ReadMetric(x_3547);return [&](const auto&x_3590){return x_3590;}(HashtblForceFind([&](const auto&x_3588){return x_3588;}(x_3546).var,"has_width_attr"));}()))?(Panic()):(VFloat(300.))):(Panic()))))))))));};}auto var_modified_x_541(const auto&x_3700){return [&](const auto&x_3701){return MakeUnit();};}auto eval_expr_x_538(const auto&x_3703){return [&](const auto&x_3704){if (IsSome(ListLast(x_3703.children))){ReadMetric(x_3704);return [&](const auto&x_3707){return x_3707;}(HashtblForceFind([&](const auto&x_3705){return x_3705;}(UnSome(ListLast(x_3703.children))).var,"intrinsic_width_max"));}else{return VFloat(0.);};}auto var_modified_x_536(const auto&x_3709){return [&](const auto&x_3710){return MakeUnit();};}auto eval_expr_x_533(const auto&x_3712){return [&](const auto&x_3713){if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_3713);return [&](const auto&x_3716){return x_3716;}(HashtblForceFind([&](const auto&x_3714){return x_3714;}(x_3712).var,"display"));}(),VString("none"))))?(VBool(true)):((BoolOfValue([&](){ReadMetric(x_3713);return [&](const auto&x_3720){return x_3720;}(HashtblForceFind([&](const auto&x_3718){return x_3718;}(x_3712).var,"inside_svg"));}()))?(VBool(true)):([&](){ReadMetric(x_3713);return [&](const auto&x_3724){return x_3724;}(HashtblForceFind([&](const auto&x_3722){return x_3722;}(x_3712).var,"disabled"));}())))){return VBool(true);}else{if (BoolOfValue((IsSome(x_3712.parent))?([&](){ReadMetric(x_3713);return [&](const auto&x_3728){return x_3728;}(HashtblForceFind([&](const auto&x_3726){return x_3726;}(UnSome(x_3712.parent)).var,"is_flex_row"));}()):(VBool(false)))){return VBool(false);}else{if (BoolOfValue((BoolOfValue(eq([&](){ReadMetric(x_3713);return [&](const auto&x_3732){return x_3732;}(HashtblForceFind([&](const auto&x_3730){return x_3730;}(x_3712).var,"width_expr"));}(),VString("auto"))))?(VBool(true)):((BoolOfValue(has_suffix([&](){ReadMetric(x_3713);return [&](const auto&x_3736){return x_3736;}(HashtblForceFind([&](const auto&x_3734){return x_3734;}(x_3712).var,"width_expr"));}(),VString("px"))))?(VBool(true)):((BoolOfValue(has_suffix([&](){ReadMetric(x_3713);return [&](const auto&x_3740){return x_3740;}(HashtblForceFind([&](const auto&x_3738){return x_3738;}(x_3712).var,"width_expr"));}(),VString("ch"))))?(VBool(true)):((BoolOfValue(has_prefix([&](){ReadMetric(x_3713);return [&](const auto&x_3744){return x_3744;}(HashtblForceFind([&](const auto&x_3742){return x_3742;}(x_3712).var,"width_expr"));}(),VString("calc("))))?(VBool(true)):(eq([&](){ReadMetric(x_3713);return [&](const auto&x_3748){return x_3748;}(HashtblForceFind([&](const auto&x_3746){return x_3746;}(x_3712).var,"width_expr"));}(),VString("max-content")))))))){return VBool(true);}else{if (BoolOfValue((BoolOfValue(has_suffix([&](){ReadMetric(x_3713);return [&](const auto&x_3752){return x_3752;}(HashtblForceFind([&](const auto&x_3750){return x_3750;}(x_3712).var,"width_expr"));}(),VString("%"))))?(VBool(true)):(eq([&](){ReadMetric(x_3713);return [&](const auto&x_3756){return x_3756;}(HashtblForceFind([&](const auto&x_3754){return x_3754;}(x_3712).var,"width_expr"));}(),VString("fit-content"))))){return VBool(false);}else{return Panic();};}auto var_modified_x_531(const auto&x_3762){return [&](const auto&x_3763){return MakeUnit();};}auto eval_expr_x_528(const auto&x_3766){return [&](const auto&x_3767){if (BoolOfValue(eq([&](){ReadMetric(x_3767);return [&](const auto&x_3770){return x_3770;}(HashtblForceFind([&](const auto&x_3768){return x_3768;}(x_3766).var,"display"));}(),VString("none")))){return VBool(true);}else{if (BoolOfValue([&](){ReadMetric(x_3767);return [&](const auto&x_3774){return x_3774;}(HashtblForceFind([&](const auto&x_3772){return x_3772;}(x_3766).var,"inside_svg"));}())){return VBool(true);}else{if (BoolOfValue([&](){ReadMetric(x_3767);return [&](const auto&x_3778){return x_3778;}(HashtblForceFind([&](const auto&x_3776){return x_3776;}(x_3766).var,"disabled"));}())){return VBool(true);}else{if (BoolOfValue((StringEqual(x_3766.name,"#document"))?(VBool(true)):((StringEqual(x_3766.name,"#shadow-root"))?(VBool(true)):((StringEqual(x_3766.name,"DIV"))?(VBool(true)):((StringEqual(x_3766.name,"HTML"))?(VBool(true)):((StringEqual(x_3766.name,"BODY"))?(VBool(true)):((StringEqual(x_3766.name,"BUTTON"))?(VBool(true)):((StringEqual(x_3766.name,"FOOTER"))?(VBool(true)):((StringEqual(x_3766.name,"SELECT"))?(VBool(true)):((StringEqual(x_3766.name,"SECTION"))?(VBool(true)):((StringEqual(x_3766.name,"FORM"))?(VBool(true)):((StringEqual(x_3766.name,"CENTER"))?(VBool(true)):((StringEqual(x_3766.name,"TD"))?(VBool(true)):((StringEqual(x_3766.name,"TR"))?(VBool(true)):((StringEqual(x_3766.name,"TBODY"))?(VBool(true)):((StringEqual(x_3766.name,"TABLE"))?(VBool(true)):((StringEqual(x_3766.name,"SPAN"))?(VBool(true)):((StringEqual(x_3766.name,"FONT"))?(VBool(true)):((StringEqual(x_3766.name,"A"))?(VBool(true)):((StringEqual(x_3766.name,"ARTICLE"))?(VBool(true)):((StringEqual(x_3766.name,"P"))?(VBool(true)):((StringEqual(x_3766.name,"U"))?(VBool(true)):((StringEqual(x_3766.name,"UL"))?(VBool(true)):((StringEqual(x_3766.name,"B"))?(VBool(true)):((StringEqual(x_3766.name,"H1"))?(VBool(true)):((StringEqual(x_3766.name,"H2"))?(VBool(true)):((StringEqual(x_3766.name,"H3"))?(VBool(true)):((StringEqual(x_3766.name,"H4"))?(VBool(true)):((StringEqual(x_3766.name,"DT"))?(VBool(true)):((StringEqual(x_3766.name,"DD"))?(VBool(true)):((StringEqual(x_3766.name,"DL"))?(VBool(true)):((StringEqual(x_3766.name,"LI"))?(VBool(true)):((StringEqual(x_3766.name,"LABEL"))?(VBool(true)):((StringEqual(x_3766.name,"OL"))?(VBool(true)):((StringEqual(x_3766.name,"NAV"))?(VBool(true)):((StringEqual(x_3766.name,"HEADER"))?(VBool(true)):((StringEqual(x_3766.name,"HEAD"))?(VBool(true)):((StringEqual(x_3766.name,"SOURCE"))?(VBool(true)):((StringEqual(x_3766.name,"PICTURE"))?(VBool(true)):((StringEqual(x_3766.name,"FIGURE"))?(VBool(true)):((StringEqual(x_3766.name,"FIGCAPTION"))?(VBool(true)):((StringEqual(x_3766.name,"MAIN"))?(VBool(true)):((StringEqual(x_3766.name,"REACT-PARTIAL"))?(VBool(true)):((StringEqual(x_3766.name,"QUERY-BUILDER"))?(VBool(true)):((StringEqual(x_3766.name,"MODAL-DIALOG"))?(VBool(true)):((StringEqual(x_3766.name,"SCROLLABLE-REGION"))?(VBool(true)):((StringEqual(x_3766.name,"DIALOG-HELPER"))?(VBool(true)):((StringEqual(x_3766.name,"AUTO-CHECK"))?(VBool(true)):((StringEqual(x_3766.name,"TOOL-TIP"))?(VBool(true)):((StringEqual(x_3766.name,"CUSTOM-SCOPES"))?(VBool(true)):((StringEqual(x_3766.name,"QBSEARCH-INPUT"))?(VBool(true)):((StringEqual(x_3766.name,"INCLUDE-FRAGMENT"))?(VBool(true)):((StringEqual(x_3766.name,"COOKIE-CONSENT-LINK"))?(VBool(true)):((StringEqual(x_3766.name,"FULLSTORY-CAPTURE"))?(VBool(true)):((StringEqual(x_3766.name,"GHCC-CONSENT"))?(VBool(true)):((StringEqual(x_3766.name,"GLOBAL-BANNER"))?(VBool(true)):((StringEqual(x_3766.name,"ACTIVE-GLOBAL-BANNERS"))?(VBool(true)):((StringEqual(x_3766.name,"CARD-SKEW"))?(VBool(true)):((StringEqual(x_3766.name,"EM"))?(VBool(true)):((StringEqual(x_3766.name,"ASIDE"))?(VBool(true)):((StringEqual(x_3766.name,"AUDIO"))?(VBool(true)):((StringEqual(x_3766.name,"SUP"))?(VBool(true)):((StringEqual(x_3766.name,"TIME"))?(VBool(true)):((StringEqual(x_3766.name,"ABBR"))?(VBool(true)):((StringEqual(x_3766.name,"SMALL"))?(VBool(true)):((StringEqual(x_3766.name,"SLOT"))?(VBool(true)):(eq(VString(x_3766.name),VString("I"))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))){return VBool(true);}else{if (BoolOfValue((StringEqual(x_3766.name,"#text"))?(VBool(true)):((StringEqual(x_3766.name,"svg"))?(VBool(true)):((StringEqual(x_3766.name,"IFRAME"))?(VBool(true)):((StringEqual(x_3766.name,"INPUT"))?(VBool(true)):((StringEqual(x_3766.name,"VIDEO"))?(VBool(true)):((StringEqual(x_3766.name,"BR"))?(VBool(true)):((StringEqual(x_3766.name,"IMG"))?(VBool(true)):(eq(VString(x_3766.name),VString("TEXTAREA"))))))))))){return VBool(false);}else{return Panic();};}auto var_modified_x_526(const auto&x_3780){return [&](const auto&x_3781){return MakeUnit();};}auto eval_expr_x_523(const auto&x_3801){return [&](const auto&x_3802){if (IsSome(HashtblFind(x_3801.prop,"width"))){ReadMetric(x_3802);return [&](const auto&x_3803){return x_3803;}(HashtblForceFind(x_3801.prop,"width"));}else{return VString("auto");};}auto eval_stmts_x_91(const auto&x_521){return [&](const auto&x_522){WriteMetric(x_522);auto x_524 = eval_expr_x_523(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"width_expr"),[&](const auto&x_527){return MakeUnit();},[&](const auto&x_525){if (EqualValue(x_525,x_524)){return MakeUnit();}else{return var_modified_x_526(x_521)(x_522);});HashtblSet(x_521.var,"width_expr",x_524);WriteMetric(x_522);auto x_529 = eval_expr_x_528(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"is_default_case"),[&](const auto&x_532){return MakeUnit();},[&](const auto&x_530){if (EqualValue(x_530,x_529)){return MakeUnit();}else{return var_modified_x_531(x_521)(x_522);});HashtblSet(x_521.var,"is_default_case",x_529);WriteMetric(x_522);auto x_534 = eval_expr_x_533(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_width_is_width"),[&](const auto&x_537){return MakeUnit();},[&](const auto&x_535){if (EqualValue(x_535,x_534)){return MakeUnit();}else{return var_modified_x_536(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_width_is_width",x_534);WriteMetric(x_522);auto x_539 = eval_expr_x_538(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"children_intrinsic_width"),[&](const auto&x_542){return MakeUnit();},[&](const auto&x_540){if (EqualValue(x_540,x_539)){return MakeUnit();}else{return var_modified_x_541(x_521)(x_522);});HashtblSet(x_521.var,"children_intrinsic_width",x_539);WriteMetric(x_522);auto x_544 = eval_expr_x_543(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_width_internal"),[&](const auto&x_547){return MakeUnit();},[&](const auto&x_545){if (EqualValue(x_545,x_544)){return MakeUnit();}else{return var_modified_x_546(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_width_internal",x_544);WriteMetric(x_522);auto x_549 = eval_expr_x_548(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_width_external"),[&](const auto&x_552){return MakeUnit();},[&](const auto&x_550){if (EqualValue(x_550,x_549)){return MakeUnit();}else{return var_modified_x_551(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_width_external",x_549);WriteMetric(x_522);auto x_554 = eval_expr_x_553(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_current_line_width"),[&](const auto&x_557){return MakeUnit();},[&](const auto&x_555){if (EqualValue(x_555,x_554)){return MakeUnit();}else{return var_modified_x_556(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_current_line_width",x_554);WriteMetric(x_522);auto x_559 = eval_expr_x_558(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_width_max"),[&](const auto&x_562){return MakeUnit();},[&](const auto&x_560){if (EqualValue(x_560,x_559)){return MakeUnit();}else{return var_modified_x_561(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_width_max",x_559);WriteMetric(x_522);auto x_564 = eval_expr_x_563(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_width_sum"),[&](const auto&x_567){return MakeUnit();},[&](const auto&x_565){if (EqualValue(x_565,x_564)){return MakeUnit();}else{return var_modified_x_566(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_width_sum",x_564);WriteMetric(x_522);auto x_569 = eval_expr_x_568(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"children_intrinsic_height"),[&](const auto&x_572){return MakeUnit();},[&](const auto&x_570){if (EqualValue(x_570,x_569)){return MakeUnit();}else{return var_modified_x_571(x_521)(x_522);});HashtblSet(x_521.var,"children_intrinsic_height",x_569);WriteMetric(x_522);auto x_574 = eval_expr_x_573(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"height_expr"),[&](const auto&x_577){return MakeUnit();},[&](const auto&x_575){if (EqualValue(x_575,x_574)){return MakeUnit();}else{return var_modified_x_576(x_521)(x_522);});HashtblSet(x_521.var,"height_expr",x_574);WriteMetric(x_522);auto x_579 = eval_expr_x_578(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_height_is_height"),[&](const auto&x_582){return MakeUnit();},[&](const auto&x_580){if (EqualValue(x_580,x_579)){return MakeUnit();}else{return var_modified_x_581(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_height_is_height",x_579);WriteMetric(x_522);auto x_584 = eval_expr_x_583(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_height_internal"),[&](const auto&x_587){return MakeUnit();},[&](const auto&x_585){if (EqualValue(x_585,x_584)){return MakeUnit();}else{return var_modified_x_586(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_height_internal",x_584);WriteMetric(x_522);auto x_589 = eval_expr_x_588(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_height_external"),[&](const auto&x_592){return MakeUnit();},[&](const auto&x_590){if (EqualValue(x_590,x_589)){return MakeUnit();}else{return var_modified_x_591(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_height_external",x_589);WriteMetric(x_522);auto x_594 = eval_expr_x_593(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_height_sum"),[&](const auto&x_597){return MakeUnit();},[&](const auto&x_595){if (EqualValue(x_595,x_594)){return MakeUnit();}else{return var_modified_x_596(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_height_sum",x_594);WriteMetric(x_522);auto x_599 = eval_expr_x_598(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"intrinsic_current_line_height"),[&](const auto&x_602){return MakeUnit();},[&](const auto&x_600){if (EqualValue(x_600,x_599)){return MakeUnit();}else{return var_modified_x_601(x_521)(x_522);});HashtblSet(x_521.var,"intrinsic_current_line_height",x_599);WriteMetric(x_522);auto x_604 = eval_expr_x_603(x_521)(x_522);OptionMatch(HashtblFind(x_521.var,"finished_intrinsic_height_sum"),[&](const auto&x_607){return MakeUnit();},[&](const auto&x_605){if (EqualValue(x_605,x_604)){return MakeUnit();}else{return var_modified_x_606(x_521)(x_522);});HashtblSet(x_521.var,"finished_intrinsic_height_sum",x_604);return MakeUnit();};}auto eval_stmts_x_89(const auto&x_608){return [&](const auto&x_609){WriteMetric(x_609);auto x_611 = eval_expr_x_610(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"display"),[&](const auto&x_614){return MakeUnit();},[&](const auto&x_612){if (EqualValue(x_612,x_611)){return MakeUnit();}else{return var_modified_x_613(x_608)(x_609);});HashtblSet(x_608.var,"display",x_611);WriteMetric(x_609);auto x_616 = eval_expr_x_615(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"position"),[&](const auto&x_619){return MakeUnit();},[&](const auto&x_617){if (EqualValue(x_617,x_616)){return MakeUnit();}else{return var_modified_x_618(x_608)(x_609);});HashtblSet(x_608.var,"position",x_616);WriteMetric(x_609);auto x_621 = eval_expr_x_620(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"flex_grow"),[&](const auto&x_624){return MakeUnit();},[&](const auto&x_622){if (EqualValue(x_622,x_621)){return MakeUnit();}else{return var_modified_x_623(x_608)(x_609);});HashtblSet(x_608.var,"flex_grow",x_621);WriteMetric(x_609);auto x_626 = eval_expr_x_625(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"flex_shrink"),[&](const auto&x_629){return MakeUnit();},[&](const auto&x_627){if (EqualValue(x_627,x_626)){return MakeUnit();}else{return var_modified_x_628(x_608)(x_609);});HashtblSet(x_608.var,"flex_shrink",x_626);WriteMetric(x_609);auto x_631 = eval_expr_x_630(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"flex_grow_sum"),[&](const auto&x_634){return MakeUnit();},[&](const auto&x_632){if (EqualValue(x_632,x_631)){return MakeUnit();}else{return var_modified_x_633(x_608)(x_609);});HashtblSet(x_608.var,"flex_grow_sum",x_631);WriteMetric(x_609);auto x_636 = eval_expr_x_635(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"flex_shrink_sum"),[&](const auto&x_639){return MakeUnit();},[&](const auto&x_637){if (EqualValue(x_637,x_636)){return MakeUnit();}else{return var_modified_x_638(x_608)(x_609);});HashtblSet(x_608.var,"flex_shrink_sum",x_636);WriteMetric(x_609);auto x_641 = eval_expr_x_640(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"flex_direction"),[&](const auto&x_644){return MakeUnit();},[&](const auto&x_642){if (EqualValue(x_642,x_641)){return MakeUnit();}else{return var_modified_x_643(x_608)(x_609);});HashtblSet(x_608.var,"flex_direction",x_641);WriteMetric(x_609);auto x_646 = eval_expr_x_645(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"is_flex_row"),[&](const auto&x_649){return MakeUnit();},[&](const auto&x_647){if (EqualValue(x_647,x_646)){return MakeUnit();}else{return var_modified_x_648(x_608)(x_609);});HashtblSet(x_608.var,"is_flex_row",x_646);WriteMetric(x_609);auto x_651 = eval_expr_x_650(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"is_flex_column"),[&](const auto&x_654){return MakeUnit();},[&](const auto&x_652){if (EqualValue(x_652,x_651)){return MakeUnit();}else{return var_modified_x_653(x_608)(x_609);});HashtblSet(x_608.var,"is_flex_column",x_651);WriteMetric(x_609);auto x_656 = eval_expr_x_655(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"width_attr_expr"),[&](const auto&x_659){return MakeUnit();},[&](const auto&x_657){if (EqualValue(x_657,x_656)){return MakeUnit();}else{return var_modified_x_658(x_608)(x_609);});HashtblSet(x_608.var,"width_attr_expr",x_656);WriteMetric(x_609);auto x_661 = eval_expr_x_660(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"has_width_attr"),[&](const auto&x_664){return MakeUnit();},[&](const auto&x_662){if (EqualValue(x_662,x_661)){return MakeUnit();}else{return var_modified_x_663(x_608)(x_609);});HashtblSet(x_608.var,"has_width_attr",x_661);WriteMetric(x_609);auto x_666 = eval_expr_x_665(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"height_attr_expr"),[&](const auto&x_669){return MakeUnit();},[&](const auto&x_667){if (EqualValue(x_667,x_666)){return MakeUnit();}else{return var_modified_x_668(x_608)(x_609);});HashtblSet(x_608.var,"height_attr_expr",x_666);WriteMetric(x_609);auto x_671 = eval_expr_x_670(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"has_height_attr"),[&](const auto&x_674){return MakeUnit();},[&](const auto&x_672){if (EqualValue(x_672,x_671)){return MakeUnit();}else{return var_modified_x_673(x_608)(x_609);});HashtblSet(x_608.var,"has_height_attr",x_671);WriteMetric(x_609);auto x_676 = eval_expr_x_675(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"is_svg_block"),[&](const auto&x_679){return MakeUnit();},[&](const auto&x_677){if (EqualValue(x_677,x_676)){return MakeUnit();}else{return var_modified_x_678(x_608)(x_609);});HashtblSet(x_608.var,"is_svg_block",x_676);WriteMetric(x_609);auto x_681 = eval_expr_x_680(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"inside_svg"),[&](const auto&x_684){return MakeUnit();},[&](const auto&x_682){if (EqualValue(x_682,x_681)){return MakeUnit();}else{return var_modified_x_683(x_608)(x_609);});HashtblSet(x_608.var,"inside_svg",x_681);WriteMetric(x_609);auto x_686 = eval_expr_x_685(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"disabled"),[&](const auto&x_689){return MakeUnit();},[&](const auto&x_687){if (EqualValue(x_687,x_686)){return MakeUnit();}else{return var_modified_x_688(x_608)(x_609);});HashtblSet(x_608.var,"disabled",x_686);WriteMetric(x_609);auto x_691 = eval_expr_x_690(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"visible"),[&](const auto&x_694){return MakeUnit();},[&](const auto&x_692){if (EqualValue(x_692,x_691)){return MakeUnit();}else{return var_modified_x_693(x_608)(x_609);});HashtblSet(x_608.var,"visible",x_691);WriteMetric(x_609);auto x_696 = eval_expr_x_695(x_608)(x_609);OptionMatch(HashtblFind(x_608.var,"line_break"),[&](const auto&x_699){return MakeUnit();},[&](const auto&x_697){if (EqualValue(x_697,x_696)){return MakeUnit();}else{return var_modified_x_698(x_608)(x_609);});HashtblSet(x_608.var,"line_break",x_696);return MakeUnit();};}auto eval_stmts_x_85(const auto&x_700){return [&](const auto&x_701){WriteMetric(x_701);auto x_703 = eval_expr_x_702(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"box_width"),[&](const auto&x_706){return MakeUnit();},[&](const auto&x_704){if (EqualValue(x_704,x_703)){return MakeUnit();}else{return var_modified_x_705(x_700)(x_701);});HashtblSet(x_700.var,"box_width",x_703);WriteMetric(x_701);auto x_708 = eval_expr_x_707(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"box_height"),[&](const auto&x_711){return MakeUnit();},[&](const auto&x_709){if (EqualValue(x_709,x_708)){return MakeUnit();}else{return var_modified_x_710(x_700)(x_701);});HashtblSet(x_700.var,"box_height",x_708);WriteMetric(x_701);auto x_713 = eval_expr_x_712(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"left_over"),[&](const auto&x_716){return MakeUnit();},[&](const auto&x_714){if (EqualValue(x_714,x_713)){return MakeUnit();}else{return var_modified_x_715(x_700)(x_701);});HashtblSet(x_700.var,"left_over",x_713);WriteMetric(x_701);auto x_718 = eval_expr_x_717(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"flex_amount"),[&](const auto&x_721){return MakeUnit();},[&](const auto&x_719){if (EqualValue(x_719,x_718)){return MakeUnit();}else{return var_modified_x_720(x_700)(x_701);});HashtblSet(x_700.var,"flex_amount",x_718);WriteMetric(x_701);auto x_723 = eval_expr_x_722(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"flex_unit"),[&](const auto&x_726){return MakeUnit();},[&](const auto&x_724){if (EqualValue(x_724,x_723)){return MakeUnit();}else{return var_modified_x_725(x_700)(x_701);});HashtblSet(x_700.var,"flex_unit",x_723);WriteMetric(x_701);auto x_728 = eval_expr_x_727(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"x"),[&](const auto&x_731){return MakeUnit();},[&](const auto&x_729){if (EqualValue(x_729,x_728)){return MakeUnit();}else{return var_modified_x_730(x_700)(x_701);});HashtblSet(x_700.var,"x",x_728);WriteMetric(x_701);auto x_733 = eval_expr_x_732(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"width_internal"),[&](const auto&x_736){return MakeUnit();},[&](const auto&x_734){if (EqualValue(x_734,x_733)){return MakeUnit();}else{return var_modified_x_735(x_700)(x_701);});HashtblSet(x_700.var,"width_internal",x_733);WriteMetric(x_701);auto x_738 = eval_expr_x_737(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"width_external"),[&](const auto&x_741){return MakeUnit();},[&](const auto&x_739){if (EqualValue(x_739,x_738)){return MakeUnit();}else{return var_modified_x_740(x_700)(x_701);});HashtblSet(x_700.var,"width_external",x_738);WriteMetric(x_701);auto x_743 = eval_expr_x_742(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"y"),[&](const auto&x_746){return MakeUnit();},[&](const auto&x_744){if (EqualValue(x_744,x_743)){return MakeUnit();}else{return var_modified_x_745(x_700)(x_701);});HashtblSet(x_700.var,"y",x_743);WriteMetric(x_701);auto x_748 = eval_expr_x_747(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"height_internal"),[&](const auto&x_751){return MakeUnit();},[&](const auto&x_749){if (EqualValue(x_749,x_748)){return MakeUnit();}else{return var_modified_x_750(x_700)(x_701);});HashtblSet(x_700.var,"height_internal",x_748);WriteMetric(x_701);auto x_753 = eval_expr_x_752(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"height_external"),[&](const auto&x_756){return MakeUnit();},[&](const auto&x_754){if (EqualValue(x_754,x_753)){return MakeUnit();}else{return var_modified_x_755(x_700)(x_701);});HashtblSet(x_700.var,"height_external",x_753);WriteMetric(x_701);auto x_758 = eval_expr_x_757(x_700)(x_701);OptionMatch(HashtblFind(x_700.var,"line_height"),[&](const auto&x_761){return MakeUnit();},[&](const auto&x_759){if (EqualValue(x_759,x_758)){return MakeUnit();}else{return var_modified_x_760(x_700)(x_701);});HashtblSet(x_700.var,"line_height",x_758);return MakeUnit();};}auto eval_stmts_x_76(const auto&x_762){return [&](const auto&x_763){WriteMetric(x_763);auto x_765 = eval_expr_x_764(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"width_expr"),[&](const auto&x_768){return MakeUnit();},[&](const auto&x_766){if (EqualValue(x_766,x_765)){return MakeUnit();}else{return var_modified_x_767(x_762)(x_763);});HashtblSet(x_762.var,"width_expr",x_765);WriteMetric(x_763);auto x_770 = eval_expr_x_769(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"is_default_case"),[&](const auto&x_773){return MakeUnit();},[&](const auto&x_771){if (EqualValue(x_771,x_770)){return MakeUnit();}else{return var_modified_x_772(x_762)(x_763);});HashtblSet(x_762.var,"is_default_case",x_770);WriteMetric(x_763);auto x_775 = eval_expr_x_774(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_width_is_width"),[&](const auto&x_778){return MakeUnit();},[&](const auto&x_776){if (EqualValue(x_776,x_775)){return MakeUnit();}else{return var_modified_x_777(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_width_is_width",x_775);WriteMetric(x_763);auto x_780 = eval_expr_x_779(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"children_intrinsic_width"),[&](const auto&x_783){return MakeUnit();},[&](const auto&x_781){if (EqualValue(x_781,x_780)){return MakeUnit();}else{return var_modified_x_782(x_762)(x_763);});HashtblSet(x_762.var,"children_intrinsic_width",x_780);WriteMetric(x_763);auto x_785 = eval_expr_x_784(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_width_internal"),[&](const auto&x_788){return MakeUnit();},[&](const auto&x_786){if (EqualValue(x_786,x_785)){return MakeUnit();}else{return var_modified_x_787(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_width_internal",x_785);WriteMetric(x_763);auto x_790 = eval_expr_x_789(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_width_external"),[&](const auto&x_793){return MakeUnit();},[&](const auto&x_791){if (EqualValue(x_791,x_790)){return MakeUnit();}else{return var_modified_x_792(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_width_external",x_790);WriteMetric(x_763);auto x_795 = eval_expr_x_794(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_current_line_width"),[&](const auto&x_798){return MakeUnit();},[&](const auto&x_796){if (EqualValue(x_796,x_795)){return MakeUnit();}else{return var_modified_x_797(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_current_line_width",x_795);WriteMetric(x_763);auto x_800 = eval_expr_x_799(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_width_max"),[&](const auto&x_803){return MakeUnit();},[&](const auto&x_801){if (EqualValue(x_801,x_800)){return MakeUnit();}else{return var_modified_x_802(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_width_max",x_800);WriteMetric(x_763);auto x_805 = eval_expr_x_804(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_width_sum"),[&](const auto&x_808){return MakeUnit();},[&](const auto&x_806){if (EqualValue(x_806,x_805)){return MakeUnit();}else{return var_modified_x_807(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_width_sum",x_805);WriteMetric(x_763);auto x_810 = eval_expr_x_809(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"children_intrinsic_height"),[&](const auto&x_813){return MakeUnit();},[&](const auto&x_811){if (EqualValue(x_811,x_810)){return MakeUnit();}else{return var_modified_x_812(x_762)(x_763);});HashtblSet(x_762.var,"children_intrinsic_height",x_810);WriteMetric(x_763);auto x_815 = eval_expr_x_814(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"height_expr"),[&](const auto&x_818){return MakeUnit();},[&](const auto&x_816){if (EqualValue(x_816,x_815)){return MakeUnit();}else{return var_modified_x_817(x_762)(x_763);});HashtblSet(x_762.var,"height_expr",x_815);WriteMetric(x_763);auto x_820 = eval_expr_x_819(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_height_is_height"),[&](const auto&x_823){return MakeUnit();},[&](const auto&x_821){if (EqualValue(x_821,x_820)){return MakeUnit();}else{return var_modified_x_822(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_height_is_height",x_820);WriteMetric(x_763);auto x_825 = eval_expr_x_824(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_height_internal"),[&](const auto&x_828){return MakeUnit();},[&](const auto&x_826){if (EqualValue(x_826,x_825)){return MakeUnit();}else{return var_modified_x_827(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_height_internal",x_825);WriteMetric(x_763);auto x_830 = eval_expr_x_829(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_height_external"),[&](const auto&x_833){return MakeUnit();},[&](const auto&x_831){if (EqualValue(x_831,x_830)){return MakeUnit();}else{return var_modified_x_832(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_height_external",x_830);WriteMetric(x_763);auto x_835 = eval_expr_x_834(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_height_sum"),[&](const auto&x_838){return MakeUnit();},[&](const auto&x_836){if (EqualValue(x_836,x_835)){return MakeUnit();}else{return var_modified_x_837(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_height_sum",x_835);WriteMetric(x_763);auto x_840 = eval_expr_x_839(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"intrinsic_current_line_height"),[&](const auto&x_843){return MakeUnit();},[&](const auto&x_841){if (EqualValue(x_841,x_840)){return MakeUnit();}else{return var_modified_x_842(x_762)(x_763);});HashtblSet(x_762.var,"intrinsic_current_line_height",x_840);WriteMetric(x_763);auto x_845 = eval_expr_x_844(x_762)(x_763);OptionMatch(HashtblFind(x_762.var,"finished_intrinsic_height_sum"),[&](const auto&x_848){return MakeUnit();},[&](const auto&x_846){if (EqualValue(x_846,x_845)){return MakeUnit();}else{return var_modified_x_847(x_762)(x_763);});HashtblSet(x_762.var,"finished_intrinsic_height_sum",x_845);return MakeUnit();};}auto eval_stmts_x_74(const auto&x_849){return [&](const auto&x_850){WriteMetric(x_850);auto x_852 = eval_expr_x_851(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"display"),[&](const auto&x_855){return MakeUnit();},[&](const auto&x_853){if (EqualValue(x_853,x_852)){return MakeUnit();}else{return var_modified_x_854(x_849)(x_850);});HashtblSet(x_849.var,"display",x_852);WriteMetric(x_850);auto x_857 = eval_expr_x_856(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"position"),[&](const auto&x_860){return MakeUnit();},[&](const auto&x_858){if (EqualValue(x_858,x_857)){return MakeUnit();}else{return var_modified_x_859(x_849)(x_850);});HashtblSet(x_849.var,"position",x_857);WriteMetric(x_850);auto x_862 = eval_expr_x_861(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"flex_grow"),[&](const auto&x_865){return MakeUnit();},[&](const auto&x_863){if (EqualValue(x_863,x_862)){return MakeUnit();}else{return var_modified_x_864(x_849)(x_850);});HashtblSet(x_849.var,"flex_grow",x_862);WriteMetric(x_850);auto x_867 = eval_expr_x_866(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"flex_shrink"),[&](const auto&x_870){return MakeUnit();},[&](const auto&x_868){if (EqualValue(x_868,x_867)){return MakeUnit();}else{return var_modified_x_869(x_849)(x_850);});HashtblSet(x_849.var,"flex_shrink",x_867);WriteMetric(x_850);auto x_872 = eval_expr_x_871(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"flex_grow_sum"),[&](const auto&x_875){return MakeUnit();},[&](const auto&x_873){if (EqualValue(x_873,x_872)){return MakeUnit();}else{return var_modified_x_874(x_849)(x_850);});HashtblSet(x_849.var,"flex_grow_sum",x_872);WriteMetric(x_850);auto x_877 = eval_expr_x_876(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"flex_shrink_sum"),[&](const auto&x_880){return MakeUnit();},[&](const auto&x_878){if (EqualValue(x_878,x_877)){return MakeUnit();}else{return var_modified_x_879(x_849)(x_850);});HashtblSet(x_849.var,"flex_shrink_sum",x_877);WriteMetric(x_850);auto x_882 = eval_expr_x_881(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"flex_direction"),[&](const auto&x_885){return MakeUnit();},[&](const auto&x_883){if (EqualValue(x_883,x_882)){return MakeUnit();}else{return var_modified_x_884(x_849)(x_850);});HashtblSet(x_849.var,"flex_direction",x_882);WriteMetric(x_850);auto x_887 = eval_expr_x_886(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"is_flex_row"),[&](const auto&x_890){return MakeUnit();},[&](const auto&x_888){if (EqualValue(x_888,x_887)){return MakeUnit();}else{return var_modified_x_889(x_849)(x_850);});HashtblSet(x_849.var,"is_flex_row",x_887);WriteMetric(x_850);auto x_892 = eval_expr_x_891(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"is_flex_column"),[&](const auto&x_895){return MakeUnit();},[&](const auto&x_893){if (EqualValue(x_893,x_892)){return MakeUnit();}else{return var_modified_x_894(x_849)(x_850);});HashtblSet(x_849.var,"is_flex_column",x_892);WriteMetric(x_850);auto x_897 = eval_expr_x_896(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"width_attr_expr"),[&](const auto&x_900){return MakeUnit();},[&](const auto&x_898){if (EqualValue(x_898,x_897)){return MakeUnit();}else{return var_modified_x_899(x_849)(x_850);});HashtblSet(x_849.var,"width_attr_expr",x_897);WriteMetric(x_850);auto x_902 = eval_expr_x_901(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"has_width_attr"),[&](const auto&x_905){return MakeUnit();},[&](const auto&x_903){if (EqualValue(x_903,x_902)){return MakeUnit();}else{return var_modified_x_904(x_849)(x_850);});HashtblSet(x_849.var,"has_width_attr",x_902);WriteMetric(x_850);auto x_907 = eval_expr_x_906(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"height_attr_expr"),[&](const auto&x_910){return MakeUnit();},[&](const auto&x_908){if (EqualValue(x_908,x_907)){return MakeUnit();}else{return var_modified_x_909(x_849)(x_850);});HashtblSet(x_849.var,"height_attr_expr",x_907);WriteMetric(x_850);auto x_912 = eval_expr_x_911(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"has_height_attr"),[&](const auto&x_915){return MakeUnit();},[&](const auto&x_913){if (EqualValue(x_913,x_912)){return MakeUnit();}else{return var_modified_x_914(x_849)(x_850);});HashtblSet(x_849.var,"has_height_attr",x_912);WriteMetric(x_850);auto x_917 = eval_expr_x_916(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"is_svg_block"),[&](const auto&x_920){return MakeUnit();},[&](const auto&x_918){if (EqualValue(x_918,x_917)){return MakeUnit();}else{return var_modified_x_919(x_849)(x_850);});HashtblSet(x_849.var,"is_svg_block",x_917);WriteMetric(x_850);auto x_922 = eval_expr_x_921(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"inside_svg"),[&](const auto&x_925){return MakeUnit();},[&](const auto&x_923){if (EqualValue(x_923,x_922)){return MakeUnit();}else{return var_modified_x_924(x_849)(x_850);});HashtblSet(x_849.var,"inside_svg",x_922);WriteMetric(x_850);auto x_927 = eval_expr_x_926(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"disabled"),[&](const auto&x_930){return MakeUnit();},[&](const auto&x_928){if (EqualValue(x_928,x_927)){return MakeUnit();}else{return var_modified_x_929(x_849)(x_850);});HashtblSet(x_849.var,"disabled",x_927);WriteMetric(x_850);auto x_932 = eval_expr_x_931(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"visible"),[&](const auto&x_935){return MakeUnit();},[&](const auto&x_933){if (EqualValue(x_933,x_932)){return MakeUnit();}else{return var_modified_x_934(x_849)(x_850);});HashtblSet(x_849.var,"visible",x_932);WriteMetric(x_850);auto x_937 = eval_expr_x_936(x_849)(x_850);OptionMatch(HashtblFind(x_849.var,"line_break"),[&](const auto&x_940){return MakeUnit();},[&](const auto&x_938){if (EqualValue(x_938,x_937)){return MakeUnit();}else{return var_modified_x_939(x_849)(x_850);});HashtblSet(x_849.var,"line_break",x_937);return MakeUnit();};}auto eval_stmts_x_70(const auto&x_941){return [&](const auto&x_942){WriteMetric(x_942);auto x_944 = eval_expr_x_943(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"box_width"),[&](const auto&x_947){return MakeUnit();},[&](const auto&x_945){if (EqualValue(x_945,x_944)){return MakeUnit();}else{return var_modified_x_946(x_941)(x_942);});HashtblSet(x_941.var,"box_width",x_944);WriteMetric(x_942);auto x_949 = eval_expr_x_948(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"box_height"),[&](const auto&x_952){return MakeUnit();},[&](const auto&x_950){if (EqualValue(x_950,x_949)){return MakeUnit();}else{return var_modified_x_951(x_941)(x_942);});HashtblSet(x_941.var,"box_height",x_949);WriteMetric(x_942);auto x_954 = eval_expr_x_953(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"left_over"),[&](const auto&x_957){return MakeUnit();},[&](const auto&x_955){if (EqualValue(x_955,x_954)){return MakeUnit();}else{return var_modified_x_956(x_941)(x_942);});HashtblSet(x_941.var,"left_over",x_954);WriteMetric(x_942);auto x_959 = eval_expr_x_958(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"flex_amount"),[&](const auto&x_962){return MakeUnit();},[&](const auto&x_960){if (EqualValue(x_960,x_959)){return MakeUnit();}else{return var_modified_x_961(x_941)(x_942);});HashtblSet(x_941.var,"flex_amount",x_959);WriteMetric(x_942);auto x_964 = eval_expr_x_963(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"flex_unit"),[&](const auto&x_967){return MakeUnit();},[&](const auto&x_965){if (EqualValue(x_965,x_964)){return MakeUnit();}else{return var_modified_x_966(x_941)(x_942);});HashtblSet(x_941.var,"flex_unit",x_964);WriteMetric(x_942);auto x_969 = eval_expr_x_968(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"x"),[&](const auto&x_972){return MakeUnit();},[&](const auto&x_970){if (EqualValue(x_970,x_969)){return MakeUnit();}else{return var_modified_x_971(x_941)(x_942);});HashtblSet(x_941.var,"x",x_969);WriteMetric(x_942);auto x_974 = eval_expr_x_973(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"width_internal"),[&](const auto&x_977){return MakeUnit();},[&](const auto&x_975){if (EqualValue(x_975,x_974)){return MakeUnit();}else{return var_modified_x_976(x_941)(x_942);});HashtblSet(x_941.var,"width_internal",x_974);WriteMetric(x_942);auto x_979 = eval_expr_x_978(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"width_external"),[&](const auto&x_982){return MakeUnit();},[&](const auto&x_980){if (EqualValue(x_980,x_979)){return MakeUnit();}else{return var_modified_x_981(x_941)(x_942);});HashtblSet(x_941.var,"width_external",x_979);WriteMetric(x_942);auto x_984 = eval_expr_x_983(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"y"),[&](const auto&x_987){return MakeUnit();},[&](const auto&x_985){if (EqualValue(x_985,x_984)){return MakeUnit();}else{return var_modified_x_986(x_941)(x_942);});HashtblSet(x_941.var,"y",x_984);WriteMetric(x_942);auto x_989 = eval_expr_x_988(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"height_internal"),[&](const auto&x_992){return MakeUnit();},[&](const auto&x_990){if (EqualValue(x_990,x_989)){return MakeUnit();}else{return var_modified_x_991(x_941)(x_942);});HashtblSet(x_941.var,"height_internal",x_989);WriteMetric(x_942);auto x_994 = eval_expr_x_993(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"height_external"),[&](const auto&x_997){return MakeUnit();},[&](const auto&x_995){if (EqualValue(x_995,x_994)){return MakeUnit();}else{return var_modified_x_996(x_941)(x_942);});HashtblSet(x_941.var,"height_external",x_994);WriteMetric(x_942);auto x_999 = eval_expr_x_998(x_941)(x_942);OptionMatch(HashtblFind(x_941.var,"line_height"),[&](const auto&x_1002){return MakeUnit();},[&](const auto&x_1000){if (EqualValue(x_1000,x_999)){return MakeUnit();}else{return var_modified_x_1001(x_941)(x_942);});HashtblSet(x_941.var,"line_height",x_999);return MakeUnit();};}auto x_50(const auto&x_51){ListIter(ListZip(ListDropLast(x_51.children),ListTl(x_51.children)),[&](const auto&x_52){auto x_53 = Zro(x_52);auto x_54 = Fst(x_52);x_53.parent=Some(x_51);x_53.next=Some(x_54);x_54.prev=Some(x_53);return MakeUnit();});return OptionIter(ListLast(x_51.children),[&](const auto&x_55){x_55.parent=Some(x_51);return x_50(x_55);});}auto set_children_relation_x_42(const auto&x_51){return x_50(x_51);}auto x_56(const auto&x_57){ListIter(ListZip(ListDropLast(x_57.children),ListTl(x_57.children)),[&](const auto&x_58){auto x_59 = Zro(x_58);auto x_60 = Fst(x_58);x_59.parent=Some(x_57);x_59.next=Some(x_60);x_60.prev=Some(x_59);return MakeUnit();});return OptionIter(ListLast(x_57.children),[&](const auto&x_61){x_61.parent=Some(x_57);return x_56(x_61);});}auto set_children_relation_x_38(const auto&x_57){return x_56(x_57);}auto x_62(const auto&x_63){ListIter(ListZip(ListDropLast(x_63.children),ListTl(x_63.children)),[&](const auto&x_64){auto x_65 = Zro(x_64);auto x_66 = Fst(x_64);x_65.parent=Some(x_63);x_65.next=Some(x_66);x_66.prev=Some(x_65);return MakeUnit();});return OptionIter(ListLast(x_63.children),[&](const auto&x_67){x_67.parent=Some(x_63);return x_62(x_67);});}auto set_children_relation_x_35(const auto&x_63){return x_62(x_63);}auto eval_stmts_x_31(const auto&x_68){return [&](const auto&x_69){ListIter(x_68.children,[&](const auto&x_71){return eval_stmts_x_31(x_71)(x_69);});return MakeUnit();};}auto eval_stmts_x_30(const auto&x_72){return [&](const auto&x_73){ListIter(x_72.children,[&](const auto&x_75){return eval_stmts_x_30(x_75)(x_73);});return MakeUnit();};}auto x_77(const auto&x_78){ListIter(ListZip(ListDropLast(x_78.children),ListTl(x_78.children)),[&](const auto&x_79){auto x_80 = Zro(x_79);auto x_81 = Fst(x_79);x_80.parent=Some(x_78);x_80.next=Some(x_81);x_81.prev=Some(x_80);return MakeUnit();});return OptionIter(ListLast(x_78.children),[&](const auto&x_82){x_82.parent=Some(x_78);return x_77(x_82);});}auto set_children_relation_x_28(const auto&x_78){return x_77(x_78);}auto eval_stmts_x_26(const auto&x_83){return [&](const auto&x_84){ListIter(x_83.children,[&](const auto&x_86){return eval_stmts_x_26(x_86)(x_84);});return MakeUnit();};}auto eval_stmts_x_25(const auto&x_87){return [&](const auto&x_88){ListIter(x_87.children,[&](const auto&x_90){return eval_stmts_x_25(x_90)(x_88);});return MakeUnit();};}auto x_92(const auto&x_93){ListIter(ListZip(ListDropLast(x_93.children),ListTl(x_93.children)),[&](const auto&x_94){auto x_95 = Zro(x_94);auto x_96 = Fst(x_94);x_95.parent=Some(x_93);x_95.next=Some(x_96);x_96.prev=Some(x_95);return MakeUnit();});return OptionIter(ListLast(x_93.children),[&](const auto&x_97){x_97.parent=Some(x_93);return x_92(x_97);});}auto set_children_relation_x_22(const auto&x_93){return x_92(x_93);}auto x_98(const auto&x_99){auto x_100 = Zro(x_99);auto x_101 = Fst(x_99);auto x_102 = Zro(x_100);auto x_103 = Fst(x_100);return ListMatch(x_102,[&](const auto&x_106){auto x_107 = Zro(x_101);auto x_108 = Zro(x_107);auto x_109 = Fst(x_107);auto x_110 = Fst(x_101);auto x_111 = Zro(x_110);auto x_112 = Fst(x_110);InputChangeMetric(x_112,1);std::string x_3805 = x_108;if (x_3805=="attributes"){std::string x_3806 = x_109;if (x_3806=="width"){WriteMetric(x_112);HashtblAddExn(x_103.attr,"width",x_111);return MakeUnit();}else if (x_3806=="image_height"){WriteMetric(x_112);HashtblAddExn(x_103.attr,"image_height",x_111);return MakeUnit();}else if (x_3806=="image_width"){WriteMetric(x_112);HashtblAddExn(x_103.attr,"image_width",x_111);return MakeUnit();}else if (x_3806=="height"){WriteMetric(x_112);HashtblAddExn(x_103.attr,"height",x_111);return MakeUnit();}else if (x_3806=="viewBox"){WriteMetric(x_112);HashtblAddExn(x_103.attr,"viewBox",x_111);return MakeUnit();}else {return MakeUnit();}}else if (x_3805=="properties"){std::string x_3807 = x_109;if (x_3807=="width"){WriteMetric(x_112);HashtblAddExn(x_103.prop,"width",x_111);return MakeUnit();}else if (x_3807=="flex-grow"){WriteMetric(x_112);HashtblAddExn(x_103.prop,"flex-grow",x_111);return MakeUnit();}else if (x_3807=="height"){WriteMetric(x_112);HashtblAddExn(x_103.prop,"height",x_111);return MakeUnit();}else if (x_3807=="display"){WriteMetric(x_112);HashtblAddExn(x_103.prop,"display",x_111);return MakeUnit();}else if (x_3807=="position"){WriteMetric(x_112);HashtblAddExn(x_103.prop,"position",x_111);return MakeUnit();}else if (x_3807=="flex-shrink"){WriteMetric(x_112);HashtblAddExn(x_103.prop,"flex-shrink",x_111);return MakeUnit();}else if (x_3807=="flex-direction"){WriteMetric(x_112);HashtblAddExn(x_103.prop,"flex-direction",x_111);return MakeUnit();}else {return MakeUnit();}}else {return Panic();}},[&](const auto&x_104){return [&](const auto&x_105){return x_98(MakePair(MakePair(x_105,ListNthExn(x_103.children,x_104)),x_101));};});}auto insert_value_x_13(const auto&x_99){return x_98(x_99);}auto x_113(const auto&x_114){auto x_115 = Zro(x_114);auto x_116 = Fst(x_114);auto x_117 = Zro(x_115);auto x_118 = Fst(x_115);return ListMatch(x_117,[&](const auto&x_121){auto x_122 = Zro(x_116);auto x_123 = Zro(x_122);auto x_124 = Fst(x_122);auto x_125 = Fst(x_116);InputChangeMetric(x_125,1);std::string x_3808 = x_123;if (x_3808=="attributes"){std::string x_3809 = x_124;if (x_3809=="width"){WriteMetric(x_125);HashtblForceRemove(x_118.attr,"width");return MakeUnit();}else if (x_3809=="image_height"){WriteMetric(x_125);HashtblForceRemove(x_118.attr,"image_height");return MakeUnit();}else if (x_3809=="image_width"){WriteMetric(x_125);HashtblForceRemove(x_118.attr,"image_width");return MakeUnit();}else if (x_3809=="height"){WriteMetric(x_125);HashtblForceRemove(x_118.attr,"height");return MakeUnit();}else if (x_3809=="viewBox"){WriteMetric(x_125);HashtblForceRemove(x_118.attr,"viewBox");return MakeUnit();}else {return MakeUnit();}}else if (x_3808=="properties"){std::string x_3810 = x_124;if (x_3810=="width"){WriteMetric(x_125);HashtblForceRemove(x_118.prop,"width");return MakeUnit();}else if (x_3810=="flex-grow"){WriteMetric(x_125);HashtblForceRemove(x_118.prop,"flex-grow");return MakeUnit();}else if (x_3810=="height"){WriteMetric(x_125);HashtblForceRemove(x_118.prop,"height");return MakeUnit();}else if (x_3810=="display"){WriteMetric(x_125);HashtblForceRemove(x_118.prop,"display");return MakeUnit();}else if (x_3810=="position"){WriteMetric(x_125);HashtblForceRemove(x_118.prop,"position");return MakeUnit();}else if (x_3810=="flex-shrink"){WriteMetric(x_125);HashtblForceRemove(x_118.prop,"flex-shrink");return MakeUnit();}else if (x_3810=="flex-direction"){WriteMetric(x_125);HashtblForceRemove(x_118.prop,"flex-direction");return MakeUnit();}else {return MakeUnit();}}else {return Panic();}},[&](const auto&x_119){return [&](const auto&x_120){return x_113(MakePair(MakePair(x_120,ListNthExn(x_118.children,x_119)),x_116));};});}auto delete_value_x_12(const auto&x_114){return x_113(x_114);}auto x_126(const auto&x_127){auto x_128 = Zro(x_127);auto x_129 = Fst(x_127);auto x_130 = Zro(x_128);auto x_131 = Fst(x_128);return ListMatch(x_130,[&](const auto&x_134){auto x_135 = Zro(x_129);auto x_136 = Zro(x_135);auto x_137 = Fst(x_135);auto x_138 = Fst(x_129);auto x_139 = Zro(x_138);auto x_140 = Fst(x_138);InputChangeMetric(x_140,1);std::string x_3811 = x_136;if (x_3811=="attributes"){std::string x_3812 = x_137;if (x_3812=="width"){WriteMetric(x_140);HashtblForceRemove(x_131.attr,"width");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.attr,"width",x_139);return MakeUnit();}else if (x_3812=="image_height"){WriteMetric(x_140);HashtblForceRemove(x_131.attr,"image_height");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.attr,"image_height",x_139);return MakeUnit();}else if (x_3812=="image_width"){WriteMetric(x_140);HashtblForceRemove(x_131.attr,"image_width");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.attr,"image_width",x_139);return MakeUnit();}else if (x_3812=="height"){WriteMetric(x_140);HashtblForceRemove(x_131.attr,"height");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.attr,"height",x_139);return MakeUnit();}else if (x_3812=="viewBox"){WriteMetric(x_140);HashtblForceRemove(x_131.attr,"viewBox");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.attr,"viewBox",x_139);return MakeUnit();}else {return MakeUnit();}}else if (x_3811=="properties"){std::string x_3813 = x_137;if (x_3813=="width"){WriteMetric(x_140);HashtblForceRemove(x_131.prop,"width");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.prop,"width",x_139);return MakeUnit();}else if (x_3813=="flex-grow"){WriteMetric(x_140);HashtblForceRemove(x_131.prop,"flex-grow");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.prop,"flex-grow",x_139);return MakeUnit();}else if (x_3813=="height"){WriteMetric(x_140);HashtblForceRemove(x_131.prop,"height");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.prop,"height",x_139);return MakeUnit();}else if (x_3813=="display"){WriteMetric(x_140);HashtblForceRemove(x_131.prop,"display");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.prop,"display",x_139);return MakeUnit();}else if (x_3813=="position"){WriteMetric(x_140);HashtblForceRemove(x_131.prop,"position");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.prop,"position",x_139);return MakeUnit();}else if (x_3813=="flex-shrink"){WriteMetric(x_140);HashtblForceRemove(x_131.prop,"flex-shrink");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.prop,"flex-shrink",x_139);return MakeUnit();}else if (x_3813=="flex-direction"){WriteMetric(x_140);HashtblForceRemove(x_131.prop,"flex-direction");MakeUnit();WriteMetric(x_140);HashtblAddExn(x_131.prop,"flex-direction",x_139);return MakeUnit();}else {return MakeUnit();}}else {return Panic();}},[&](const auto&x_132){return [&](const auto&x_133){return x_126(MakePair(MakePair(x_133,ListNthExn(x_131.children,x_132)),x_129));};});}auto replace_value_x_11(const auto&x_127){return x_126(x_127);}auto x_141(const auto&x_142){auto x_143 = Zro(x_142);auto x_144 = Fst(x_142);auto x_145 = Zro(x_143);auto x_146 = Fst(x_143);return ListMatch(x_145,[&](const auto&x_155){return Panic();},[&](const auto&x_147){return [&](const auto&x_148){return ListMatch(x_148,[&](const auto&x_151){auto x_152 = Zro(x_144);auto x_153 = Fst(x_144);auto x_154 = ListSplitN(x_146.children,x_147);OutputChangeMetric(x_153,IntAdd(layout_size_x_3(ListNthExn(x_146.children,x_147)),layout_size_x_3(x_152)));x_146.children=ListAppend(Zro(x_154),Cons(x_152,ListTailExn(Fst(x_154))));return MakeUnit();},[&](const auto&x_149){return [&](const auto&x_150){return x_141(MakePair(MakePair(x_148,ListNthExn(x_146.children,x_147)),x_144));};});};});}auto replace_layout_node_x_10(const auto&x_142){return x_141(x_142);}auto x_156(const auto&x_157){auto x_158 = Zro(x_157);auto x_159 = Fst(x_157);auto x_160 = Zro(x_158);auto x_161 = Fst(x_158);return ListMatch(x_160,[&](const auto&x_310){return Panic();},[&](const auto&x_162){return [&](const auto&x_163){return ListMatch(x_163,[&](const auto&x_166){auto x_167 = Zro(x_159);auto x_168 = Fst(x_159);InputChangeMetric(x_168,IntAdd(node_size_x_4(ListNthExn(x_161.children,x_162)),node_size_x_4(x_167)));auto x_169 = ListSplitN(x_161.children,x_162);auto x_170 = Zro(x_169);auto x_171 = Fst(x_169);ListMatch(x_171,[&](const auto&x_240){return Panic();},[&](const auto&x_172){return [&](const auto&x_173){OptionMatch(x_172.prev,[&](const auto&x_175){return MakeUnit();},[&](const auto&x_174){x_174.next=x_172.next;});OptionMatch(x_172.next,[&](const auto&x_177){return MakeUnit();},[&](const auto&x_176){x_176.prev=x_172.prev;});x_161.children=ListAppend(x_170,x_173);return MakeUnit();};});auto x_241 = ListSplitN(x_161.children,x_162);auto x_242 = Zro(x_241);auto x_243 = Fst(x_241);x_161.children=ListAppend(x_242,Cons(x_167,x_243));OptionMatch(ListLast(x_242),[&](const auto&x_245){x_167.prev=None();},[&](const auto&x_244){x_167.prev=Some(x_244);x_244.next=Some(x_167);});OptionMatch(ListHead(x_243),[&](const auto&x_247){x_167.next=None();},[&](const auto&x_246){x_167.next=Some(x_246);x_246.prev=Some(x_167);});x_167.parent=Some(x_161);MakeUnit();return MakeUnit();},[&](const auto&x_164){return [&](const auto&x_165){return x_156(MakePair(MakePair(x_163,ListNthExn(x_161.children,x_162)),x_159));};});};});}auto replace_node_x_9(const auto&x_157){return x_156(x_157);}auto x_311(const auto&x_312){auto x_313 = Zro(x_312);auto x_314 = Fst(x_312);auto x_315 = Zro(x_313);auto x_316 = Fst(x_313);return ListMatch(x_315,[&](const auto&x_323){return Panic();},[&](const auto&x_317){return [&](const auto&x_318){return ListMatch(x_318,[&](const auto&x_321){OutputChangeMetric(x_314,layout_size_x_3(ListNthExn(x_316.children,x_317)));auto x_322 = ListSplitN(x_316.children,x_317);x_316.children=ListAppend(Zro(x_322),ListTailExn(Fst(x_322)));},[&](const auto&x_319){return [&](const auto&x_320){return x_311(MakePair(MakePair(x_318,ListNthExn(x_316.children,x_317)),x_314));};});};});}auto remove_layout_node_x_8(const auto&x_312){return x_311(x_312);}auto x_324(const auto&x_325){auto x_326 = Zro(x_325);auto x_327 = Fst(x_325);auto x_328 = Zro(x_326);auto x_329 = Fst(x_326);return ListMatch(x_328,[&](const auto&x_407){return Panic();},[&](const auto&x_330){return [&](const auto&x_331){return ListMatch(x_331,[&](const auto&x_334){InputChangeMetric(x_327,node_size_x_4(ListNthExn(x_329.children,x_330)));auto x_335 = ListSplitN(x_329.children,x_330);auto x_336 = Zro(x_335);auto x_337 = Fst(x_335);return ListMatch(x_337,[&](const auto&x_406){return Panic();},[&](const auto&x_338){return [&](const auto&x_339){OptionMatch(x_338.prev,[&](const auto&x_341){return MakeUnit();},[&](const auto&x_340){x_340.next=x_338.next;});OptionMatch(x_338.next,[&](const auto&x_343){return MakeUnit();},[&](const auto&x_342){x_342.prev=x_338.prev;});x_329.children=ListAppend(x_336,x_339);return MakeUnit();};});},[&](const auto&x_332){return [&](const auto&x_333){return x_324(MakePair(MakePair(x_331,ListNthExn(x_329.children,x_330)),x_327));};});};});}auto remove_node_x_7(const auto&x_325){return x_324(x_325);}auto x_408(const auto&x_409){auto x_410 = Zro(x_409);auto x_411 = Fst(x_409);auto x_412 = Zro(x_410);auto x_413 = Fst(x_410);return ListMatch(x_412,[&](const auto&x_422){return Panic();},[&](const auto&x_414){return [&](const auto&x_415){return ListMatch(x_415,[&](const auto&x_418){auto x_419 = Zro(x_411);auto x_420 = Fst(x_411);OutputChangeMetric(x_420,layout_size_x_3(x_419));auto x_421 = ListSplitN(x_413.children,x_414);x_413.children=ListAppend(Zro(x_421),Cons(x_419,Fst(x_421)));},[&](const auto&x_416){return [&](const auto&x_417){return x_408(MakePair(MakePair(x_415,ListNthExn(x_413.children,x_414)),x_411));};});};});}auto add_layout_node_x_6(const auto&x_409){return x_408(x_409);}auto x_423(const auto&x_424){auto x_425 = Zro(x_424);auto x_426 = Fst(x_424);auto x_427 = Zro(x_425);auto x_428 = Fst(x_425);return ListMatch(x_427,[&](const auto&x_505){return Panic();},[&](const auto&x_429){return [&](const auto&x_430){return ListMatch(x_430,[&](const auto&x_433){auto x_434 = Zro(x_426);auto x_435 = Fst(x_426);InputChangeMetric(x_435,node_size_x_4(x_434));auto x_436 = ListSplitN(x_428.children,x_429);auto x_437 = Zro(x_436);auto x_438 = Fst(x_436);x_428.children=ListAppend(x_437,Cons(x_434,x_438));OptionMatch(ListLast(x_437),[&](const auto&x_440){x_434.prev=None();},[&](const auto&x_439){x_434.prev=Some(x_439);x_439.next=Some(x_434);});OptionMatch(ListHead(x_438),[&](const auto&x_442){x_434.next=None();},[&](const auto&x_441){x_434.next=Some(x_441);x_441.prev=Some(x_434);});x_434.parent=Some(x_428);return MakeUnit();},[&](const auto&x_431){return [&](const auto&x_432){return x_423(MakePair(MakePair(x_430,ListNthExn(x_428.children,x_429)),x_426));};});};});}auto add_node_x_5(const auto&x_424){return x_423(x_424);}auto x_506(const auto&x_507){return IntAdd(1,ListIntSum(x_507.children,[&](const auto&x_508){return x_506(x_508);}));}auto node_size_x_4(const auto&x_507){return x_506(x_507);}auto x_509(const auto&x_510){return IntAdd(1,ListIntSum(x_510.children,[&](const auto&x_511){return x_509(x_511);}));}auto layout_size_x_3(const auto&x_510){return x_509(x_510);}auto x_512(const auto&x_513){return MakeLayoutNode(ListMap(JsonToList(JsonMember("children",x_513)),[&](const auto&x_514){return x_512(x_514);}));}auto json_to_layout_node_x_2(const auto&x_513){return x_512(x_513);}auto x_515(const auto&x_516){return MakeNode(x_516.name,x_516.attr,x_516.prop,x_516.extern_id,ListMap(x_516.children,[&](const auto&x_517){return x_515(x_517);}));}auto node_to_fs_node_x_1(const auto&x_516){return x_515(x_516);}auto x_518(const auto&x_519){return MakeNode(JsonToString(JsonMember("name",x_519)),JsonToDict(JsonMember("attributes",x_519)),JsonToDict(JsonMember("properties",x_519)),JsonToInt(JsonMember("id",x_519)),ListMap(JsonToList(JsonMember("children",x_519)),[&](const auto&x_520){return x_518(x_520);}));}auto json_to_node_aux_x_0(const auto&x_519){return x_518(x_519);}int main(){return WithOutFile("hn_type.out",[&](const auto&x_14){PrintEndline("RUNNING FS");return WithInFile("command.json",[&](const auto&x_15){auto x_16 = MakeRef(0);auto x_17 = FreshMetric();auto x_18 = JsonOfString(InputLine(x_15));auto x_19 = JsonOfString(InputLine(x_15));auto x_20 = MakeStack();PushStack(x_20,x_18);PushStack(x_20,x_19);Assert(StringEqual(JsonToString(JsonMember("name",x_18)),"init"));Assert(StringEqual(JsonToString(JsonMember("name",x_19)),"layout_init"));auto x_23 = [&](){auto x_21 = json_to_node_aux_x_0(JsonMember("node",x_18));x_21.parent=None();x_21.prev=None();x_21.next=None();MakeUnit();return x_21;}();auto x_24 = json_to_layout_node_x_2(JsonMember("node",x_19));OutputChangeMetric(x_17,layout_size_x_3(x_24));InputChangeMetric(x_17,node_size_x_4(x_23));JsonToChannel(x_14,AssocToJson(Cons(MakePair("name",StringToJson("FS")),Cons(MakePair("diff_num",IntToJson(ReadRef(x_16))),Cons(MakePair("read_count",IntToJson(MetricReadCount(x_17))),Cons(MakePair("meta_read_count",IntToJson(MetricMetaReadCount(x_17))),Cons(MakePair("write_count",IntToJson(MetricWriteCount(x_17))),Cons(MakePair("meta_write_count",IntToJson(MetricMetaWriteCount(x_17))),Cons(MakePair("queue_size_acc",IntToJson(MetricQueueSizeAcc(x_17))),Cons(MakePair("input_change_count",IntToJson(MetricInputChangeCount(x_17))),Cons(MakePair("output_change_count",IntToJson(MetricOutputChangeCount(x_17))),Cons(MakePair("html",StringToJson("")),Cons(MakePair("command",ListToJson(StackToList(x_20))),Nil())))))))))))));OutputString(x_14,"\n");ResetMetric(x_17);ClearStack(x_20);WriteRef(x_16,IntAdd(ReadRef(x_16),1));auto x_29 = [&](){auto x_27 = node_to_fs_node_x_1(x_23);x_27.parent=None();x_27.prev=None();x_27.next=None();MakeUnit();return x_27;}();AssertNodeValueEqual(x_23,x_29);MakeUnit();PrintEndline("EVAL OK!");IterLines(x_15,[&](const auto&x_32){auto x_33 = JsonOfString(x_32);PushStack(x_20,x_33);std::string x_3814 = JsonToString(JsonMember("name",x_33));if (x_3814=="add"){return add_node_x_5(MakePair(MakePair(ListMap(JsonToList(JsonMember("path",x_33)),[&](const auto&x_36){return JsonToInt(x_36);}),x_23),MakePair([&](){auto x_34 = json_to_node_aux_x_0(JsonMember("node",x_33));x_34.parent=None();x_34.prev=None();x_34.next=None();MakeUnit();return x_34;}(),x_17)));}else if (x_3814=="recalculate"){JsonToChannel(x_14,AssocToJson(Cons(MakePair("name",StringToJson("FS")),Cons(MakePair("diff_num",IntToJson(ReadRef(x_16))),Cons(MakePair("read_count",IntToJson(MetricReadCount(x_17))),Cons(MakePair("meta_read_count",IntToJson(MetricMetaReadCount(x_17))),Cons(MakePair("write_count",IntToJson(MetricWriteCount(x_17))),Cons(MakePair("meta_write_count",IntToJson(MetricMetaWriteCount(x_17))),Cons(MakePair("queue_size_acc",IntToJson(MetricQueueSizeAcc(x_17))),Cons(MakePair("input_change_count",IntToJson(MetricInputChangeCount(x_17))),Cons(MakePair("output_change_count",IntToJson(MetricOutputChangeCount(x_17))),Cons(MakePair("html",StringToJson("")),Cons(MakePair("command",ListToJson(StackToList(x_20))),Nil())))))))))))));OutputString(x_14,"\n");ResetMetric(x_17);ClearStack(x_20);WriteRef(x_16,IntAdd(ReadRef(x_16),1));auto x_39 = [&](){auto x_37 = node_to_fs_node_x_1(x_23);x_37.parent=None();x_37.prev=None();x_37.next=None();MakeUnit();return x_37;}();AssertNodeValueEqual(x_23,x_39);return MakeUnit();}else if (x_3814=="remove"){return remove_node_x_7(MakePair(MakePair(ListMap(JsonToList(JsonMember("path",x_33)),[&](const auto&x_40){return JsonToInt(x_40);}),x_23),x_17));}else if (x_3814=="replace"){return replace_node_x_9(MakePair(MakePair(ListMap(JsonToList(JsonMember("path",x_33)),[&](const auto&x_43){return JsonToInt(x_43);}),x_23),MakePair([&](){auto x_41 = json_to_node_aux_x_0(JsonMember("node",x_33));x_41.parent=None();x_41.prev=None();x_41.next=None();MakeUnit();return x_41;}(),x_17)));}else if (x_3814=="replace_value"){return replace_value_x_11(MakePair(MakePair(ListMap(JsonToList(JsonMember("path",x_33)),[&](const auto&x_44){return JsonToInt(x_44);}),x_23),MakePair(MakePair(JsonToString(JsonMember("type",x_33)),JsonToString(JsonMember("key",x_33))),MakePair(JsonToValue(JsonMember("value",x_33)),x_17))));}else if (x_3814=="delete_value"){return delete_value_x_12(MakePair(MakePair(ListMap(JsonToList(JsonMember("path",x_33)),[&](const auto&x_45){return JsonToInt(x_45);}),x_23),MakePair(MakePair(JsonToString(JsonMember("type",x_33)),JsonToString(JsonMember("key",x_33))),x_17)));}else if (x_3814=="insert_value"){return insert_value_x_13(MakePair(MakePair(ListMap(JsonToList(JsonMember("path",x_33)),[&](const auto&x_46){return JsonToInt(x_46);}),x_23),MakePair(MakePair(JsonToString(JsonMember("type",x_33)),JsonToString(JsonMember("key",x_33))),MakePair(JsonToValue(JsonMember("value",x_33)),x_17))));}else if (x_3814=="layout_remove"){return remove_layout_node_x_8(MakePair(MakePair(ListMap(JsonToList(JsonMember("path",x_33)),[&](const auto&x_47){return JsonToInt(x_47);}),x_24),x_17));}else if (x_3814=="layout_add"){return add_layout_node_x_6(MakePair(MakePair(ListMap(JsonToList(JsonMember("path",x_33)),[&](const auto&x_48){return JsonToInt(x_48);}),x_24),MakePair(json_to_layout_node_x_2(JsonMember("node",x_33)),x_17)));}else if (x_3814=="layout_replace"){return replace_layout_node_x_10(MakePair(MakePair(ListMap(JsonToList(JsonMember("path",x_33)),[&](const auto&x_49){return JsonToInt(x_49);}),x_24),MakePair(json_to_layout_node_x_2(JsonMember("node",x_33)),x_17)));}else if (x_3814=="layout_info_changed"){return OutputChangeMetric(x_17,1);}else {return Panic();}});PrintEndline("INCREMENTAL EVAL OK!");MakeUnit();return MakeUnit();});});}